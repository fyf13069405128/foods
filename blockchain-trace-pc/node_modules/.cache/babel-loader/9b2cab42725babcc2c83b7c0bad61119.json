{"remainingRequest":"E:\\food\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js!E:\\food\\blockchain-trace-pc\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\food\\blockchain-trace-pc\\src\\store\\modules\\permission.js","dependencies":[{"path":"E:\\food\\blockchain-trace-pc\\src\\store\\modules\\permission.js","mtime":1692021609240},{"path":"E:\\food\\blockchain-trace-pc\\babel.config.js","mtime":1692021609167},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9mb29kL2Jsb2NrY2hhaW4tdHJhY2UtcGMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmxvYWRWaWV3ID0gZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKdmFyIF9yb3V0ZXIgPSByZXF1aXJlKCJAL3JvdXRlciIpOwp2YXIgX21lbnUgPSByZXF1aXJlKCJAL2FwaS9tZW51Iik7CnZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvbGF5b3V0L2luZGV4IikpOwp2YXIgcGVybWlzc2lvbiA9IHsKICBzdGF0ZTogewogICAgcm91dGVzOiBbXSwKICAgIGFkZFJvdXRlczogW10KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1JPVVRFUzogZnVuY3Rpb24gU0VUX1JPVVRFUyhzdGF0ZSwgcm91dGVzKSB7CiAgICAgIHN0YXRlLmFkZFJvdXRlcyA9IHJvdXRlczsKICAgICAgc3RhdGUucm91dGVzID0gX3JvdXRlci5jb25zdGFudFJvdXRlcy5jb25jYXQocm91dGVzKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOeUn+aIkOi3r+eUsQogICAgR2VuZXJhdGVSb3V0ZXM6IGZ1bmN0aW9uIEdlbmVyYXRlUm91dGVzKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAvLyDlkJHlkI7nq6/or7fmsYLot6/nlLHmlbDmja4KICAgICAgICAoMCwgX21lbnUuZ2V0Um91dGVycykoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBhY2Nlc3NlZFJvdXRlcyA9IGZpbHRlckFzeW5jUm91dGVyKHJlcy5kYXRhKTsKICAgICAgICAgIGFjY2Vzc2VkUm91dGVzLnB1c2goewogICAgICAgICAgICBwYXRoOiAnKicsCiAgICAgICAgICAgIHJlZGlyZWN0OiAnLzQwNCcsCiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9ST1VURVMnLCBhY2Nlc3NlZFJvdXRlcyk7CiAgICAgICAgICByZXNvbHZlKGFjY2Vzc2VkUm91dGVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwoKLy8g6YGN5Y6G5ZCO5Y+w5Lyg5p2l55qE6Lev55Sx5a2X56ym5Liy77yM6L2s5o2i5Li657uE5Lu25a+56LGhCmZ1bmN0aW9uIGZpbHRlckFzeW5jUm91dGVyKGFzeW5jUm91dGVyTWFwKSB7CiAgcmV0dXJuIGFzeW5jUm91dGVyTWFwLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsKICAgIGlmIChyb3V0ZS5jb21wb25lbnQpIHsKICAgICAgLy8gTGF5b3V057uE5Lu254m55q6K5aSE55CGCiAgICAgIGlmIChyb3V0ZS5jb21wb25lbnQgPT09ICdMYXlvdXQnKSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gX2luZGV4LmRlZmF1bHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGUuY29tcG9uZW50ID0gbG9hZFZpZXcocm91dGUuY29tcG9uZW50KTsKICAgICAgfQogICAgfQogICAgaWYgKHJvdXRlLmNoaWxkcmVuICE9IG51bGwgJiYgcm91dGUuY2hpbGRyZW4gJiYgcm91dGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIHJvdXRlLmNoaWxkcmVuID0gZmlsdGVyQXN5bmNSb3V0ZXIocm91dGUuY2hpbGRyZW4pOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfSk7Cn0KdmFyIGxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIC8vIOi3r+eUseaHkuWKoOi9vQogIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWyJAL3ZpZXdzLyIuY29uY2F0KHZpZXcpXSwgcmVzb2x2ZSk7CiAgfTsKfTsKZXhwb3J0cy5sb2FkVmlldyA9IGxvYWRWaWV3Owp2YXIgX2RlZmF1bHQgPSBwZXJtaXNzaW9uOwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"names":["_router","require","_menu","_index","_interopRequireDefault","permission","state","routes","addRoutes","mutations","SET_ROUTES","constantRoutes","concat","actions","GenerateRoutes","_ref","commit","Promise","resolve","getRouters","then","res","accessedRoutes","filterAsyncRouter","data","push","path","redirect","hidden","asyncRouterMap","filter","route","component","Layout","loadView","children","length","view","exports","_default","default"],"sources":["E:/food/blockchain-trace-pc/src/store/modules/permission.js"],"sourcesContent":["import { constantRoutes } from '@/router'\r\nimport { getRouters } from '@/api/menu'\r\nimport Layout from '@/layout/index'\r\n\r\nconst permission = {\r\n  state: {\r\n    routes: [],\r\n    addRoutes: []\r\n  },\r\n  mutations: {\r\n    SET_ROUTES: (state, routes) => {\r\n      state.addRoutes = routes\r\n      state.routes = constantRoutes.concat(routes)\r\n    }\r\n  },\r\n  actions: {\r\n    // 生成路由\r\n    GenerateRoutes({ commit }) {\r\n      return new Promise(resolve => {\r\n        // 向后端请求路由数据\r\n        getRouters().then(res => {\r\n          const accessedRoutes = filterAsyncRouter(res.data)\r\n          accessedRoutes.push({ path: '*', redirect: '/404', hidden: true })\r\n          commit('SET_ROUTES', accessedRoutes)\r\n          resolve(accessedRoutes)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 遍历后台传来的路由字符串，转换为组件对象\r\nfunction filterAsyncRouter(asyncRouterMap) {\r\n  return asyncRouterMap.filter(route => {\r\n    if (route.component) {\r\n      // Layout组件特殊处理\r\n      if (route.component === 'Layout') {\r\n        route.component = Layout\r\n      } else {\r\n        route.component = loadView(route.component)\r\n      }\r\n    }\r\n    if (route.children != null && route.children && route.children.length) {\r\n      route.children = filterAsyncRouter(route.children)\r\n    }\r\n    return true\r\n  })\r\n}\r\n\r\nexport const loadView = (view) => { // 路由懒加载\r\n  return (resolve) =>  require([`@/views/${view}`], resolve)\r\n}\r\n\r\nexport default permission\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAC,sBAAA,CAAAH,OAAA;AAEA,IAAMI,UAAU,GAAG;EACjBC,KAAK,EAAE;IACLC,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE;EACb,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,EAAE,SAAAA,WAACJ,KAAK,EAAEC,MAAM,EAAK;MAC7BD,KAAK,CAACE,SAAS,GAAGD,MAAM;MACxBD,KAAK,CAACC,MAAM,GAAGI,sBAAc,CAACC,MAAM,CAACL,MAAM,CAAC;IAC9C;EACF,CAAC;EACDM,OAAO,EAAE;IACP;IACAC,cAAc,WAAAA,eAAAC,IAAA,EAAa;MAAA,IAAVC,MAAM,GAAAD,IAAA,CAANC,MAAM;MACrB,OAAO,IAAIC,OAAO,CAAC,UAAAC,OAAO,EAAI;QAC5B;QACA,IAAAC,gBAAU,EAAC,CAAC,CAACC,IAAI,CAAC,UAAAC,GAAG,EAAI;UACvB,IAAMC,cAAc,GAAGC,iBAAiB,CAACF,GAAG,CAACG,IAAI,CAAC;UAClDF,cAAc,CAACG,IAAI,CAAC;YAAEC,IAAI,EAAE,GAAG;YAAEC,QAAQ,EAAE,MAAM;YAAEC,MAAM,EAAE;UAAK,CAAC,CAAC;UAClEZ,MAAM,CAAC,YAAY,EAAEM,cAAc,CAAC;UACpCJ,OAAO,CAACI,cAAc,CAAC;QACzB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACF,CAAC;;AAED;AACA,SAASC,iBAAiBA,CAACM,cAAc,EAAE;EACzC,OAAOA,cAAc,CAACC,MAAM,CAAC,UAAAC,KAAK,EAAI;IACpC,IAAIA,KAAK,CAACC,SAAS,EAAE;MACnB;MACA,IAAID,KAAK,CAACC,SAAS,KAAK,QAAQ,EAAE;QAChCD,KAAK,CAACC,SAAS,GAAGC,cAAM;MAC1B,CAAC,MAAM;QACLF,KAAK,CAACC,SAAS,GAAGE,QAAQ,CAACH,KAAK,CAACC,SAAS,CAAC;MAC7C;IACF;IACA,IAAID,KAAK,CAACI,QAAQ,IAAI,IAAI,IAAIJ,KAAK,CAACI,QAAQ,IAAIJ,KAAK,CAACI,QAAQ,CAACC,MAAM,EAAE;MACrEL,KAAK,CAACI,QAAQ,GAAGZ,iBAAiB,CAACQ,KAAK,CAACI,QAAQ,CAAC;IACpD;IACA,OAAO,IAAI;EACb,CAAC,CAAC;AACJ;AAEO,IAAMD,QAAQ,GAAG,SAAXA,QAAQA,CAAIG,IAAI,EAAK;EAAE;EAClC,OAAO,UAACnB,OAAO;IAAA,OAAMjB,OAAO,CAAC,YAAAW,MAAA,CAAYyB,IAAI,EAAG,EAAEnB,OAAO,CAAC;EAAA;AAC5D,CAAC;AAAAoB,OAAA,CAAAJ,QAAA,GAAAA,QAAA;AAAA,IAAAK,QAAA,GAEclC,UAAU;AAAAiC,OAAA,CAAAE,OAAA,GAAAD,QAAA"}]}