{"remainingRequest":"E:\\food\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\food\\blockchain-trace-pc\\src\\views\\trace\\product\\record.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\food\\blockchain-trace-pc\\src\\views\\trace\\product\\record.vue","mtime":1692021609279},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3F1ZXJ5VGFza0xpc3R9IGZyb20gJy4uLy4uLy4uL2FwaS90cmFjZS9wcm9kdWN0JzsNCmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pbmRleC5qcyc7DQpleHBvcnQgZGVmYXVsdCB7DQoJbmFtZTogJ1JlY29yZCcsDQoJZGF0YSgpIHsNCgkJcmV0dXJuIHsNCgkJCXRhc2tMaXN0czpbXSwNCgkJCXdvcmtDb250ZW50RGlhbG9nOmZhbHNlLA0KCQkJcmVjb3JkRm9ybTp7fSwNCgkJCXRhc2tJbmZvOicnLA0KCQl9Ow0KCX0sDQoJY3JlYXRlZCgpew0KCQl0aGlzLnRhc2tMaXN0KCk7DQoJfSwNCgltZXRob2RzOnsNCgkJc3VibWl0T3BlcmF0aW9uKCl7DQoJCQljb25zdCBvcGVyYXRpb25BcnJheSA9IFtdDQoJCQljb25zdCBpZCA9IG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCkNCgkJCW9wZXJhdGlvbkFycmF5LnB1c2goaWQpDQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKGlkKQ0KCQkJb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLnRhc2tJbmZvLmNyb3BzSWQpDQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmlja05hbWUpDQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXIpDQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKGZvcm1hdERhdGUobmV3IERhdGUoKSkpDQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMucmVjb3JkRm9ybS53b3JrQ29udGVudCkNCgkJCW9wZXJhdGlvbkFycmF5LnB1c2godGhpcy5yZWNvcmRGb3JtLnJlbWFya3MpDQoJCQl0aGlzLiRodHRwQmxvY2sNCgkJCQkucG9zdCh0aGlzLiRodHRwVXJsICsgJy9wcm9kdWN0YXBpL2NyZWF0ZU9wZXJhdGlvbicsIHsgb3BlcmF0aW9uQXJyYXk6IG9wZXJhdGlvbkFycmF5IH0pDQoJCQkJLnRoZW4ocmVzID0+IHsNCgkJCQkJaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KCQkJCQkJdGhpcy5tc2dTdWNjZXNzKCLmlbDmja7kuIrpk77miJDlip8iKTsNCgkJCQkJCXRoaXMud29ya0NvbnRlbnREaWFsb2cgPSBmYWxzZQ0KCQkJCQl9DQoJCQkJfSkNCgkJCQkuY2F0Y2goZXJyID0+IHsNCgkJCQkJdGhpcy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOw0KCQkJCX0pOw0KCQl9LA0KDQoJCWFkZFdvcmtDb250ZW50KHJvdyl7DQoJCQl0aGlzLnRhc2tJbmZvID0gcm93DQoJCQl0aGlzLndvcmtDb250ZW50RGlhbG9nID0gdHJ1ZQ0KCQl9LA0KDQoJCXRhc2tMaXN0KCl7DQoJCQlxdWVyeVRhc2tMaXN0KCkudGhlbihyZXMgPT4gew0KCQkJCXRoaXMudGFza0xpc3RzID0gcmVzLmRhdGENCgkJCX0pLmNhdGNoKGVyciA9PiB7DQoJCQkJdGhpcy5tc2dFcnJvcigi6I635Y+W5Lu75Yqh5aSx6LSlIikNCgkJCX0pDQoJCX0NCgl9DQoNCn0NCg=="},{"version":3,"sources":["record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"record.vue","sourceRoot":"src/views/trace/product","sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\t\t<el-divider>待处理工作业务</el-divider>\r\n\t\t<el-table :data=\"taskLists\">\r\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n\t\t\t<el-table-column label=\"任务编号\" prop=\"taskId\" />\r\n\t\t\t<el-table-column label=\"任务名称\" prop=\"taskName\" />\r\n\t\t\t<el-table-column label=\"发布人\" prop=\"leaderName\" />\r\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\r\n\t\t\t<el-table-column label=\"具体内容\" prop=\"taskRemark\" />\r\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"addWorkContent(scope.row)\">上报工作内容</el-button>\r\n\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\t\t<el-dialog center title=\"上报工作详情\" :visible.sync=\"workContentDialog\" width=\"700px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\" :model=\"recordForm\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"任务ID\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskId\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"任务名称\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskName\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t<el-form-item label=\"工作内容\"><el-input type=\"textarea\" v-model=\"recordForm.workContent\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t<el-form-item label=\"备注\"><el-input type=\"textarea\" v-model=\"recordForm.remarks\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitOperation\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {queryTaskList} from '../../../api/trace/product';\r\nimport { formatDate } from '../../../utils/index.js';\r\nexport default {\r\n\tname: 'Record',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttaskLists:[],\r\n\t\t\tworkContentDialog:false,\r\n\t\t\trecordForm:{},\r\n\t\t\ttaskInfo:'',\r\n\t\t};\r\n\t},\r\n\tcreated(){\r\n\t\tthis.taskList();\r\n\t},\r\n\tmethods:{\r\n\t\tsubmitOperation(){\r\n\t\t\tconst operationArray = []\r\n\t\t\tconst id = new this.$snowFlakeId().generate()\r\n\t\t\toperationArray.push(id)\r\n\t\t\toperationArray.push(id)\r\n\t\t\toperationArray.push(this.taskInfo.cropsId)\r\n\t\t\toperationArray.push(this.$store.getters.nickName)\r\n\t\t\toperationArray.push(this.$store.getters.phonenumber)\r\n\t\t\toperationArray.push(formatDate(new Date()))\r\n\t\t\toperationArray.push(this.recordForm.workContent)\r\n\t\t\toperationArray.push(this.recordForm.remarks)\r\n\t\t\tthis.$httpBlock\r\n\t\t\t\t.post(this.$httpUrl + '/productapi/createOperation', { operationArray: operationArray })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\tthis.msgSuccess(\"数据上链成功\");\r\n\t\t\t\t\t\tthis.workContentDialog = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\taddWorkContent(row){\r\n\t\t\tthis.taskInfo = row\r\n\t\t\tthis.workContentDialog = true\r\n\t\t},\r\n\r\n\t\ttaskList(){\r\n\t\t\tqueryTaskList().then(res => {\r\n\t\t\t\tthis.taskLists = res.data\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tthis.msgError(\"获取任务失败\")\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}