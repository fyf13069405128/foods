{"remainingRequest":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\blockExplorer\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\blockExplorer\\index.vue","mtime":1673353165749},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHR7CglkYXRhKCl7CgkJcmV0dXJuewoJCQlxdWVyeUJsb2NrQnlOdW1EcmF3ZXI6ZmFsc2UsCgkJCWNoYW5uZWxCbG9ja0luZm86JycsCgkJCWJsb2NrSW5mbzonJywKCQkJcHJldmlvdXNCbG9ja0luZm86JycsCgkJCXByZXZpb3VzQmxvY2tJbmZvMjonJywKCQkJb3BlbjpmYWxzZSwKCQkJYmxvY2tJbmZvSGFzaDonJywKCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLiRodHRwQmxvY2suZ2V0KHRoaXMuJGh0dHBVcmwrIi9ibG9ja2V4cGxvcmVyYXBpL2NoYW5uZWxCbG9ja0luZm8iKQoJCS50aGVuKHJlcyA9PiB7CgkJCXRoaXMuY2hhbm5lbEJsb2NrSW5mbyA9IHJlczsKCQkJLy/lvZPliY3ljLrlnZcKCQkJdmFyIG51bWJlciA9IE51bWJlcih0aGlzLmNoYW5uZWxCbG9ja0luZm8uZGF0YS5oZWlnaHQubG93IC0gMSk7CgkJCXRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCsiL2Jsb2NrZXhwbG9yZXJhcGkvcXVlcnlCbG9ja0luZm8/bnVtYmVyPSIrbnVtYmVyKQoJCQkudGhlbihyZXMgPT4gewoJCQkJdGhpcy5ibG9ja0luZm8gPSByZXM7CgkJCX0pLmNhdGNoKGVyciA9PiB7CgkJCQljb25zb2xlLmxvZygiZXJyICIrZXJyKQoJCQl9KQoJCQkKCQkJLy/liY3kuIDkuKrljLrlnZcKCQkJdmFyIHByZXZpb3VzID0gTnVtYmVyKHRoaXMuY2hhbm5lbEJsb2NrSW5mby5kYXRhLmhlaWdodC5sb3cgLSAyKTsKCQkJdGhpcy4kaHR0cEJsb2NrLmdldCh0aGlzLiRodHRwVXJsKyIvYmxvY2tleHBsb3JlcmFwaS9xdWVyeUJsb2NrSW5mbz9udW1iZXI9IitwcmV2aW91cykKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMucHJldmlvdXNCbG9ja0luZm8gPSByZXM7CgkJCX0pLmNhdGNoKGVyciA9PiB7CgkJCQljb25zb2xlLmxvZygiZXJyICIrZXJyKQoJCQl9KQoJCQkKCQkJLy/liY0y5Liq5Yy65Z2XCgkJCXZhciBwcmV2aW91czIgPSBOdW1iZXIodGhpcy5jaGFubmVsQmxvY2tJbmZvLmRhdGEuaGVpZ2h0LmxvdyAtIDMpOwoJCQl0aGlzLiRodHRwQmxvY2suZ2V0KHRoaXMuJGh0dHBVcmwrIi9ibG9ja2V4cGxvcmVyYXBpL3F1ZXJ5QmxvY2tJbmZvP251bWJlcj0iK3ByZXZpb3VzMikKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMucHJldmlvdXNCbG9ja0luZm8yID0gcmVzOwoJCQl9KS5jYXRjaChlcnIgPT4gewoJCQkJY29uc29sZS5sb2coImVyciAiK2VycikKCQkJfSkKCQkJCgkJfSkuY2F0Y2goZXJyID0+IHsKCQkJY29uc29sZS5sb2coImVyciAiK2VycikKCQl9KQoJCQoJCS8vdGhpcy5nZXRIYXNoKCk7Cgl9LAoJbWV0aG9kczp7CgkJcXVlcnlJbmZvKGhhc2gpewoJCQl0aGlzLm9wZW4gPSB0cnVlCgkJCXRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCsiL2Jsb2NrZXhwbG9yZXJhcGkvcXVlcnlCbG9ja0J1SGFzaD9oYXNoPSIraGFzaCkKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuYmxvY2tJbmZvSGFzaCA9IHJlczsKCQkJfSkuY2F0Y2goZXJyID0+IHsKCQkJCWNvbnNvbGUubG9nKCJlcnIgIitlcnIpCgkJCX0pCgkJfSwKCQkKCQlnZXRIYXNoKCl7CgkJCXZhciBudW1iZXIgPSBOdW1iZXIodGhpcy5jaGFubmVsQmxvY2tJbmZvLmRhdGEuaGVpZ2h0LmxvdyApOwoJCQl0aGlzLiRodHRwQmxvY2suZ2V0KHRoaXMuJGh0dHBVcmwrIi9ibG9ja2V4cGxvcmVyYXBpL3F1ZXJ5QmxvY2tJbmZvP251bWJlcj0iK251bWJlcikKCQkJLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuYmxvY2tJbmZvID0gcmVzOwoJCQl9KS5jYXRjaChlcnIgPT4gewoJCQkJY29uc29sZS5sb2coImVyciAiK2VycikKCQkJfSkKCQl9LAoJCQoJCXF1ZXJ5QmxvY2tCeU51bSgpewoJCQl0aGlzLnF1ZXJ5QmxvY2tCeU51bURyYXdlciA9IHRydWU7CgkJfQoJCQoJfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/blockExplorer","sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\t\t<el-card style=\"width: 70%;height:100%;float: left;margin-left: 15px;\">\r\n\t\t\t<div align=\"center\">\r\n\t\t\t\t<el-tag>当</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"success\">前</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"info\">区</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"warning\">块</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"danger\">信</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag>息</el-tag>\r\n\t\t\t</div><br>\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ blockInfo.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(blockInfo.data.header.previous_hash)\" type=\"success\">{{ blockInfo.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ blockInfo.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\t\t\t<div align=\"center\">\r\n\t\t\t<i class=\"el-icon-top\"></i>\r\n\t\t\t<br>\r\n\t\t\t</div>\t\t\t\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ previousBlockInfo.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(previousBlockInfo.data.header.previous_hash)\" type=\"success\">{{ previousBlockInfo.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ previousBlockInfo.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\t\t\t<div align=\"center\">\r\n\t\t\t<i class=\"el-icon-top\"></i>\r\n\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ previousBlockInfo2.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(previousBlockInfo2.data.header.previous_hash)\" type=\"success\">{{ previousBlockInfo2.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ previousBlockInfo2.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\r\n\t\t\t\r\n\t\t</el-card>\r\n\t\t\r\n\t\t<el-card style=\"width: 27%;height: 100%;margin-left: 15px;float: right;\">\r\n\t\t\t<div align=\"center\">\r\n\t\t\t\t<font color=\"cornflowerblue\">区块链网络信息</font>\r\n\t\t\t</div><br>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t区块高度 : <font color=\"blueviolet\" style=\"font-size: 30px;\">{{channelBlockInfo.data.height.low}}</font>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t通道 : <font color=\"blueviolet\">tracechannel</font>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t节点<br><br>\r\n\t\t\t\t证书节点:<el-tag type=\"danger\">ca.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\t\r\n\t\t\t\t共识节点:<el-tag type=\"warning\">orderer.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t农户节点:<el-tag>peer0.org1.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t原料厂商节点:<el-tag>peer0.org2.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t生产厂商节点:<el-tag>peer0.org3.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t零售商节点:<el-tag>peer0.org4.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t物流公司节点:<el-tag>peer0.org5.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</el-card>\r\n\t\t\r\n\t\t<el-dialog center title=\"详情\" :visible.sync=\"open\" width=\"900px\" append-to-body>\r\n\t\t\t<json-viewer :value=\"blockInfoHash\" expand-depth=5 copyable boxed></json-viewer>\t\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tqueryBlockByNumDrawer:false,\r\n\t\t\t\tchannelBlockInfo:'',\r\n\t\t\t\tblockInfo:'',\r\n\t\t\t\tpreviousBlockInfo:'',\r\n\t\t\t\tpreviousBlockInfo2:'',\r\n\t\t\t\topen:false,\r\n\t\t\t\tblockInfoHash:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/channelBlockInfo\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.channelBlockInfo = res;\r\n\t\t\t\t//当前区块\r\n\t\t\t\tvar number = Number(this.channelBlockInfo.data.height.low - 1);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+number)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//前一个区块\r\n\t\t\t\tvar previous = Number(this.channelBlockInfo.data.height.low - 2);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+previous)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.previousBlockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//前2个区块\r\n\t\t\t\tvar previous2 = Number(this.channelBlockInfo.data.height.low - 3);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+previous2)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.previousBlockInfo2 = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//this.getHash();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tqueryInfo(hash){\r\n\t\t\t\tthis.open = true\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockBuHash?hash=\"+hash)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfoHash = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetHash(){\r\n\t\t\t\tvar number = Number(this.channelBlockInfo.data.height.low );\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+number)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tqueryBlockByNum(){\r\n\t\t\t\tthis.queryBlockByNumDrawer = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}