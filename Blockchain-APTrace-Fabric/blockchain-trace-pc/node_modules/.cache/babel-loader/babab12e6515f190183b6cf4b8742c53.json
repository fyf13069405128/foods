{"remainingRequest":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\blockExplorer\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\blockExplorer\\index.vue","mtime":1673353165749},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\babel.config.js","mtime":1673353165524},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9mb29kL0Jsb2NrY2hhaW4tQVBUcmFjZS1GYWJyaWMvYmxvY2tjaGFpbi10cmFjZS1wYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyIpOwp2YXIgX2F4aW9zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeUJsb2NrQnlOdW1EcmF3ZXI6IGZhbHNlLAogICAgICBjaGFubmVsQmxvY2tJbmZvOiAnJywKICAgICAgYmxvY2tJbmZvOiAnJywKICAgICAgcHJldmlvdXNCbG9ja0luZm86ICcnLAogICAgICBwcmV2aW91c0Jsb2NrSW5mbzI6ICcnLAogICAgICBvcGVuOiBmYWxzZSwKICAgICAgYmxvY2tJbmZvSGFzaDogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCArICIvYmxvY2tleHBsb3JlcmFwaS9jaGFubmVsQmxvY2tJbmZvIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmNoYW5uZWxCbG9ja0luZm8gPSByZXM7CiAgICAgIC8v5b2T5YmN5Yy65Z2XCiAgICAgIHZhciBudW1iZXIgPSBOdW1iZXIoX3RoaXMuY2hhbm5lbEJsb2NrSW5mby5kYXRhLmhlaWdodC5sb3cgLSAxKTsKICAgICAgX3RoaXMuJGh0dHBCbG9jay5nZXQoX3RoaXMuJGh0dHBVcmwgKyAiL2Jsb2NrZXhwbG9yZXJhcGkvcXVlcnlCbG9ja0luZm8/bnVtYmVyPSIgKyBudW1iZXIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJsb2NrSW5mbyA9IHJlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCJlcnIgIiArIGVycik7CiAgICAgIH0pOwoKICAgICAgLy/liY3kuIDkuKrljLrlnZcKICAgICAgdmFyIHByZXZpb3VzID0gTnVtYmVyKF90aGlzLmNoYW5uZWxCbG9ja0luZm8uZGF0YS5oZWlnaHQubG93IC0gMik7CiAgICAgIF90aGlzLiRodHRwQmxvY2suZ2V0KF90aGlzLiRodHRwVXJsICsgIi9ibG9ja2V4cGxvcmVyYXBpL3F1ZXJ5QmxvY2tJbmZvP251bWJlcj0iICsgcHJldmlvdXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnByZXZpb3VzQmxvY2tJbmZvID0gcmVzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coImVyciAiICsgZXJyKTsKICAgICAgfSk7CgogICAgICAvL+WJjTLkuKrljLrlnZcKICAgICAgdmFyIHByZXZpb3VzMiA9IE51bWJlcihfdGhpcy5jaGFubmVsQmxvY2tJbmZvLmRhdGEuaGVpZ2h0LmxvdyAtIDMpOwogICAgICBfdGhpcy4kaHR0cEJsb2NrLmdldChfdGhpcy4kaHR0cFVybCArICIvYmxvY2tleHBsb3JlcmFwaS9xdWVyeUJsb2NrSW5mbz9udW1iZXI9IiArIHByZXZpb3VzMikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucHJldmlvdXNCbG9ja0luZm8yID0gcmVzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coImVyciAiICsgZXJyKTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKCJlcnIgIiArIGVycik7CiAgICB9KTsKCiAgICAvL3RoaXMuZ2V0SGFzaCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHF1ZXJ5SW5mbzogZnVuY3Rpb24gcXVlcnlJbmZvKGhhc2gpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCArICIvYmxvY2tleHBsb3JlcmFwaS9xdWVyeUJsb2NrQnVIYXNoP2hhc2g9IiArIGhhc2gpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5ibG9ja0luZm9IYXNoID0gcmVzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coImVyciAiICsgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SGFzaDogZnVuY3Rpb24gZ2V0SGFzaCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBudW1iZXIgPSBOdW1iZXIodGhpcy5jaGFubmVsQmxvY2tJbmZvLmRhdGEuaGVpZ2h0Lmxvdyk7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCArICIvYmxvY2tleHBsb3JlcmFwaS9xdWVyeUJsb2NrSW5mbz9udW1iZXI9IiArIG51bWJlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmJsb2NrSW5mbyA9IHJlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCJlcnIgIiArIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5QmxvY2tCeU51bTogZnVuY3Rpb24gcXVlcnlCbG9ja0J5TnVtKCkgewogICAgICB0aGlzLnF1ZXJ5QmxvY2tCeU51bURyYXdlciA9IHRydWU7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;AAkGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA,0EACAC;MACA;MACA;MACA;MACA,2FACAA;QACA;MACA;QACAC;MACA;;MAEA;MACA;MACA,6FACAD;QACA;MACA;QACAC;MACA;;MAEA;MACA;MACA,8FACAD;QACA;MACA;QACAC;MACA;IAEA;MACAA;IACA;;IAEA;EACA;;EACAC;IACAC;MAAA;MACA;MACA,uFACAH;QACA;MACA;QACAC;MACA;IACA;IAEAG;MAAA;MACA;MACA,yFACAJ;QACA;MACA;QACAC;MACA;IACA;IAEAI;MACA;IACA;EAEA;AACA;AAAA","names":["data","queryBlockByNumDrawer","channelBlockInfo","blockInfo","previousBlockInfo","previousBlockInfo2","open","blockInfoHash","created","then","console","methods","queryInfo","getHash","queryBlockByNum"],"sourceRoot":"src/views/blockExplorer","sources":["index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\t\t<el-card style=\"width: 70%;height:100%;float: left;margin-left: 15px;\">\r\n\t\t\t<div align=\"center\">\r\n\t\t\t\t<el-tag>当</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"success\">前</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"info\">区</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"warning\">块</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag type=\"danger\">信</el-tag>&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t<el-tag>息</el-tag>\r\n\t\t\t</div><br>\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ blockInfo.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(blockInfo.data.header.previous_hash)\" type=\"success\">{{ blockInfo.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ blockInfo.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\t\t\t<div align=\"center\">\r\n\t\t\t<i class=\"el-icon-top\"></i>\r\n\t\t\t<br>\r\n\t\t\t</div>\t\t\t\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ previousBlockInfo.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(previousBlockInfo.data.header.previous_hash)\" type=\"success\">{{ previousBlockInfo.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ previousBlockInfo.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\t\t\t<div align=\"center\">\r\n\t\t\t<i class=\"el-icon-top\"></i>\r\n\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<el-card>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">区块编号：{{ previousBlockInfo2.data.header.number }}</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">前置Hash：<el-link @click=\"queryInfo(previousBlockInfo2.data.header.previous_hash)\" type=\"success\">{{ previousBlockInfo2.data.header.previous_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">数据Hash：<el-link type=\"success\">{{ previousBlockInfo2.data.header.data_hash }}</el-link></el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-card>\r\n\r\n\t\t\t\r\n\t\t</el-card>\r\n\t\t\r\n\t\t<el-card style=\"width: 27%;height: 100%;margin-left: 15px;float: right;\">\r\n\t\t\t<div align=\"center\">\r\n\t\t\t\t<font color=\"cornflowerblue\">区块链网络信息</font>\r\n\t\t\t</div><br>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t区块高度 : <font color=\"blueviolet\" style=\"font-size: 30px;\">{{channelBlockInfo.data.height.low}}</font>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t通道 : <font color=\"blueviolet\">tracechannel</font>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t\t<el-card style=\"width: 100%;\">\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t节点<br><br>\r\n\t\t\t\t证书节点:<el-tag type=\"danger\">ca.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\t\r\n\t\t\t\t共识节点:<el-tag type=\"warning\">orderer.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t农户节点:<el-tag>peer0.org1.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t原料厂商节点:<el-tag>peer0.org2.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t生产厂商节点:<el-tag>peer0.org3.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t零售商节点:<el-tag>peer0.org4.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t物流公司节点:<el-tag>peer0.org5.trace.com</el-tag>&nbsp;&nbsp;&nbsp;<br><br>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</el-card>\r\n\t\t\r\n\t\t<el-dialog center title=\"详情\" :visible.sync=\"open\" width=\"900px\" append-to-body>\r\n\t\t\t<json-viewer :value=\"blockInfoHash\" expand-depth=5 copyable boxed></json-viewer>\t\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tqueryBlockByNumDrawer:false,\r\n\t\t\t\tchannelBlockInfo:'',\r\n\t\t\t\tblockInfo:'',\r\n\t\t\t\tpreviousBlockInfo:'',\r\n\t\t\t\tpreviousBlockInfo2:'',\r\n\t\t\t\topen:false,\r\n\t\t\t\tblockInfoHash:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/channelBlockInfo\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.channelBlockInfo = res;\r\n\t\t\t\t//当前区块\r\n\t\t\t\tvar number = Number(this.channelBlockInfo.data.height.low - 1);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+number)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//前一个区块\r\n\t\t\t\tvar previous = Number(this.channelBlockInfo.data.height.low - 2);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+previous)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.previousBlockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//前2个区块\r\n\t\t\t\tvar previous2 = Number(this.channelBlockInfo.data.height.low - 3);\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+previous2)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.previousBlockInfo2 = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//this.getHash();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tqueryInfo(hash){\r\n\t\t\t\tthis.open = true\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockBuHash?hash=\"+hash)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfoHash = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetHash(){\r\n\t\t\t\tvar number = Number(this.channelBlockInfo.data.height.low );\r\n\t\t\t\tthis.$httpBlock.get(this.$httpUrl+\"/blockexplorerapi/queryBlockInfo?number=\"+number)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.blockInfo = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"err \"+err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tqueryBlockByNum(){\r\n\t\t\t\tthis.queryBlockByNumDrawer = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}