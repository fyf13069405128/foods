{"remainingRequest":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\trace\\product\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\trace\\product\\index.vue","mtime":1673353165806},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\babel.config.js","mtime":1673353165524},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9mb29kL0Jsb2NrY2hhaW4tQVBUcmFjZS1GYWJyaWMvYmxvY2tjaGFpbi10cmFjZS1wYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKdmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L2Zvb2QvQmxvY2tjaGFpbi1BUFRyYWNlLUZhYnJpYy9ibG9ja2NoYWluLXRyYWNlLXBjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIikpOwp2YXIgX3JvbGUgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vcm9sZSIpOwp2YXIgX21lbnUgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vbWVudSIpOwp2YXIgX2RlcHQgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vZGVwdCIpOwp2YXIgX3Byb2R1Y3QgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvdHJhY2UvcHJvZHVjdCIpOwp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vdXRpbHMvaW5kZXguanMiKTsKdmFyIF9mYXJtZXIgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvdHJhY2UvZmFybWVyIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnUm9sZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwogICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDop5LoibLooajmoLzmlbDmja4KICAgICAgY3JvcHNMaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAnJywKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYLvvIjmlbDmja7mnYPpmZDvvIkKICAgICAgb3BlbkRhdGFTY29wZTogZmFsc2UsCiAgICAgIG1lbnVFeHBhbmQ6IGZhbHNlLAogICAgICBtZW51Tm9kZUFsbDogZmFsc2UsCiAgICAgIGRlcHRFeHBhbmQ6IHRydWUsCiAgICAgIGRlcHROb2RlQWxsOiBmYWxzZSwKICAgICAgLy8g5pel5pyf6IyD5Zu0CiAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgIC8vIOeKtuaAgeaVsOaNruWtl+WFuAogICAgICBzdGF0dXNPcHRpb25zOiBbJ+WcqOenjScsICflgZznp40nXSwKICAgICAgYmVnZ2luZ09wdGlvbnM6IFtdLAogICAgICBwbGFudE1vZGVPcHRpb25zOiBbXSwKICAgICAgLy/np43mpI3mlrnlvI8KICAgICAgY3JvcHNUeXBlT3B0aW9uczogW10sCiAgICAgIC8v5L2c54mp57G75Z6LCgogICAgICBncm93RGlhbG9nOiBmYWxzZSwKICAgICAgLy965L2c54mp55Sf6ZW/6K6w5b2V5by55Ye65qGGCiAgICAgIGNyb3BzTmFtZTogJycsCiAgICAgIGNyb3BzRGV0YWlEaWFsb2c6IGZhbHNlLAogICAgICBjcm9wc0RldGFpbHM6ICcnLAogICAgICAvLyDoj5zljZXliJfooagKICAgICAgbWVudU9wdGlvbnM6IFtdLAogICAgICAvLyDpg6jpl6jliJfooagKICAgICAgZGVwdE9wdGlvbnM6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHJvbGVLZXk6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIHJlY29yZEZvcm06IHt9LAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGltZ0Jhc2U2NDogW10sCiAgICAgIGNyb3BzUGhvdG9Vcmw6ICcnLAogICAgICBjcm9wc0luZm86ICcnCiAgICB9LCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAiZ3Jvd0RpYWxvZyIsIGZhbHNlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImNyb3BzUHJvY2Vzc0RldGFpbHNBcnJheSIsIFtdKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImNyb3BzUHJvY2Vzc0RldGFpRGlhbG9nIiwgZmFsc2UpLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAibm90aWNlRGV0YWlEaWFsb2ciLCBmYWxzZSksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJkcml2ZXJMaXN0IiwgW10pLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAidHJhc3BvcnRGb3JtIiwgewogICAgICBjcm9wc0lkOiAnJywKICAgICAgZmFybWVyVXNlck5hbWU6ICcnLAogICAgICBmYXJtZXJOaWNrTmFtZTogJycsCiAgICAgIHRpbWU6ICcnCiAgICB9KSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgInRyYXNwb3J0SW5mbyIsICcnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgInBsYXlUcmFja1ZpZXciLCBmYWxzZSksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJhZGRUaGluZ0RpYWxvZyIsIGZhbHNlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgInRhc2tJbmZvIiwgJycpLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAidGFza0luZm9EaWFsb2ciLCBmYWxzZSksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJjcm9wc0luZm9zIiwgJycpLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAicHJvZHVjdEluZm9EaWFsb2ciLCBmYWxzZSksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJwcm9kdWN0SW5mb3MiLCAnJyksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJzdGFmZldvcmtEaWFsb2ciLCBmYWxzZSksICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKF9yZWYsICJvcGVyYXRpb25MaXN0IiwgW10pLCAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShfcmVmLCAiZHJpdmVyTGlzdCIsIFtdKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoX3JlZiwgImZhY3RvcnlMaXN0IiwgW10pLCBfcmVmOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICB0aGlzLmdldENyb3BzTGlzdCgpOwogICAgdGhpcy5nZXREaWN0cygnY3JvcHNfYmFnZ2luZycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLmJlZ2dpbmdPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXREaWN0cygnY3JvcHNfcGxhbnRfdHlwZScpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5wbGFudE1vZGVPcHRpb25zID0gcmVzLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGljdHMoJ2Nyb3BzX3R5cGUnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMuY3JvcHNUeXBlT3B0aW9ucyA9IHJlcy5kYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvdXRGYWN0b3J5OiBmdW5jdGlvbiBvdXRGYWN0b3J5KHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5bCGSUTkuLrjgJAnICsgcm93LmNyb3BzSWQgKyAn44CR55qE5Lqn5ZOB5Ye65bqT5ZCXJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICgwLCBfcHJvZHVjdC5wcm9kdWN0T3V0RmFjdG9yeSkocm93LmNyb3BzSWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmdldENyb3BzTGlzdCgpOwogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Ye65bqTIScKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojlh7rlupMnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZE5vdGljZVRyYXNwb3J0OiBmdW5jdGlvbiBhZGROb3RpY2VUcmFzcG9ydCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmNyb3BzSWQgPSB0aGlzLmNoZWNrSW5mby5jcm9wc0lkOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJVc2VyTmFtZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFybWVyTmlja05hbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS50aW1lID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZHJpdmVySWQgPSB0aGlzLnRyYXNwb3J0Rm9ybS51c2VyTmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uc3RhdHVzID0gMDsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFybWVyVGVsID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcjsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFybWVyRGVwdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZGVwdE5hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhY3RvcnlJZCA9IHRoaXMudHJhc3BvcnRGb3JtLmRlcHRJZDsKICAgICAgKDAsIF9mYXJtZXIuYWRkVHJhbnNwb3J0KSh0aGlzLnRyYXNwb3J0Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoJ+iBlOezu+i/kOi+k+aIkOWKnycpOwogICAgICAgIF90aGlzMy5ub3RpY2VEZXRhaURpYWxvZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMzLm1zZ0Vycm9yKCfogZTns7vov5DovpPlpLHotKXvvIzlj5HnlJ/lvILluLgnKTsKICAgICAgfSk7CiAgICB9LAogICAgbm90aWNlVHJhbnNwb3J0OiBmdW5jdGlvbiBub3RpY2VUcmFuc3BvcnQocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLmNoZWNrSW5mbyA9IHJvdzsKICAgICAgdGhpcy5ub3RpY2VEZXRhaURpYWxvZyA9IHRydWU7CiAgICAgICgwLCBfZmFybWVyLmdldEFsbERyaXZlckJ5RGVwdElkKSh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LmRyaXZlckxpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgICAoMCwgX2Zhcm1lci5nZXRGYWN0b3J5QnlEZXB0SWQpKDEyNSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LmZhY3RvcnlMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgIH0sCiAgICBzdGFmZldvcms6IGZ1bmN0aW9uIHN0YWZmV29yayhyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMuc3RhZmZXb3JrRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cEJsb2NrLmdldCh0aGlzLiRodHRwVXJsICsgJy9wcm9kdWN0YXBpL3F1ZXJ5T3BlcmF0aW9uQnlDcm9wc0lkP2lkPScgKyByb3cuY3JvcHNJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGFycmF5ID0gW107CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaChyZXMuZGF0YVtpXS5SZWNvcmQpOwogICAgICAgIH0KICAgICAgICBfdGhpczUub3BlcmF0aW9uTGlzdCA9IGFycmF5OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM1Lm1zZ0Vycm9yKCfmn6Xor6LlvILluLggJyArIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5UHJvZHVjdEluZm86IGZ1bmN0aW9uIHF1ZXJ5UHJvZHVjdEluZm8ocm93KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB0aGlzLnByb2R1Y3RJbmZvRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cEJsb2NrLmdldCh0aGlzLiRodHRwVXJsICsgJy9wcm9kdWN0YXBpL3F1ZXJ5UHJvZHVjdEluZm9CeUNyb3BzSWQ/aWQ9JyArIHJvdy5jcm9wc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYucHJvZHVjdEluZm9zID0gcmVzLmRhdGFbMF0uUmVjb3JkOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM2Lm1zZ0Vycm9yKCfmn6Xor6LlvILluLggJyArIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdFByb2R1Y3RJbmZvOiBmdW5jdGlvbiBzdWJtaXRQcm9kdWN0SW5mbygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHZhciBwcm9kdWN0SW5mb0FycmF5ID0gW107CiAgICAgIHZhciBpZCA9IG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaChpZCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaChpZCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLmNyb3BzSW5mb3MuY3JvcHNJZCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uUHJvZHVjdE5hbWUpOwogICAgICBwcm9kdWN0SW5mb0FycmF5LnB1c2godGhpcy5yZWNvcmRGb3JtLk1peGVkSW5ncmVkaWVudHMpOwogICAgICBwcm9kdWN0SW5mb0FycmF5LnB1c2godGhpcy5yZWNvcmRGb3JtLkxlYWRlcik7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uTGVhZGVyVGVsKTsKICAgICAgcHJvZHVjdEluZm9BcnJheS5wdXNoKHRoaXMucmVjb3JkRm9ybS5Xb3Jrc2hvcCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lKTsKICAgICAgcHJvZHVjdEluZm9BcnJheS5wdXNoKHRoaXMucmVjb3JkRm9ybS5Xb3JrSG91cnMpOwogICAgICBwcm9kdWN0SW5mb0FycmF5LnB1c2goKDAsIF9pbmRleC5mb3JtYXREYXRlKShuZXcgRGF0ZSgpKSk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uS2VlcE1ldGhvZCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uTmV0Q29udGVudCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uQ29va2luZ1JlY29tbWVuZCk7CiAgICAgIHByb2R1Y3RJbmZvQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0uUmVtYXJrcyk7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL3Byb2R1Y3RhcGkvY3JlYXRlUHJvZHVjdEluZm8nLCB7CiAgICAgICAgcHJvZHVjdEluZm9BcnJheTogcHJvZHVjdEluZm9BcnJheQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAoMCwgX3Byb2R1Y3QudXBkYXRlUHJvZHVjdFdyaXRlU3RhdHVzKShfdGhpczcuY3JvcHNJbmZvcy5jcm9wc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXM3LmFkZFRoaW5nRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzNy5tc2dTdWNjZXNzKCLmlbDmja7kuIrpk77miJDlip8iKTsKICAgICAgICAgICAgX3RoaXM3LmdldENyb3BzTGlzdCgpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBfdGhpczcubXNnRXJyb3IoIuWHuueOsOW8guW4uCIpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM3Lm1zZ0Vycm9yKCflrZjlgqjlvILluLggJyArIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOagueaNrmNyb3BzSWTmn6Xor6Lku7vliqHor6bmg4UNCiAgICAgKi8KICAgIHF1ZXJ5VGFza0J5Q3JvcHNJZDogZnVuY3Rpb24gcXVlcnlUYXNrQnlDcm9wc0lkKHJvdykgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgKDAsIF9wcm9kdWN0LnF1ZXJ5VGFza0J5Q3JvcHNJZCkocm93LmNyb3BzSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOC50YXNrSW5mbyA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzOC50YXNrSW5mb0RpYWxvZyA9IHRydWU7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczgubXNnRXJyb3IoIuafpeivouW8guW4uCIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRUaGluZzogZnVuY3Rpb24gYWRkVGhpbmcocm93KSB7CiAgICAgIHRoaXMuY3JvcHNJbmZvcyA9IHJvdzsKICAgICAgdGhpcy5hZGRUaGluZ0RpYWxvZyA9IHRydWU7CiAgICB9LAogICAgLyoqDQogICAgICog56Gu5a6a5Y+R5biDDQogICAgICovCiAgICBhZGRUYXNrOiBmdW5jdGlvbiBhZGRUYXNrKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdGhpcy5mb3JtLnRhc2tJZCA9IG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCk7CiAgICAgIHRoaXMuZm9ybS5jcm9wc0lkID0gdGhpcy5wcm9kdWN0SW5mby5jcm9wc0lkOwogICAgICB0aGlzLmZvcm0ubGVhZGVySWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWU7CiAgICAgIHRoaXMuZm9ybS50aW1lID0gKDAsIF9pbmRleC5mb3JtYXREYXRlKShuZXcgRGF0ZSgpKTsKICAgICAgdGhpcy5mb3JtLmxlYWRlck5hbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lOwogICAgICB0aGlzLmZvcm0uc3RhdHVzID0gMDsKICAgICAgKDAsIF9wcm9kdWN0LmFkZFRhc2spKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGluZm8gPSB7CiAgICAgICAgICBjcm9wc0lkOiBfdGhpczkucHJvZHVjdEluZm8uY3JvcHNJZCwKICAgICAgICAgIG1hY2hpbmdTdGF0dXM6IDEKICAgICAgICB9OwogICAgICAgICgwLCBfcHJvZHVjdC51cGRhdGVNYWNoaW5nU3RhdHVzKShpbmZvKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzOS5tc2dTdWNjZXNzKCLkuqflk4Hov5vlhaXliqDlt6XnirbmgIEiKTsKICAgICAgICAgIF90aGlzOS5nZXRDcm9wc0xpc3QoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICAgICAgX3RoaXM5Lm1zZ1N1Y2Nlc3MoIuWPkeW4g+S7u+WKoeaIkOWKnyIpOwogICAgICAgIF90aGlzOS5vcGVuID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczkubXNnRXJyb3IoIua3u+WKoOS7u+WKoeWHuumUmSIpOwogICAgICB9KTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDku7vliqHliIblj5ENCiAgICAgKi8KICAgIHRhc2tEaXN0cmlidXRpb246IGZ1bmN0aW9uIHRhc2tEaXN0cmlidXRpb24ocm93KSB7CiAgICAgIHRoaXMucHJvZHVjdEluZm8gPSByb3c7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICB9LAogICAgZ2V0RmlsZTogZnVuY3Rpb24gZ2V0RmlsZShmaWxlKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKICAgICAgdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICB0aGlzLmdldEJhc2U2NChmaWxlLnJhdykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMxMC5pbWdCYXNlNjQgPSByZXM7CiAgICAgICAgdmFyIGRhdGFzID0gewogICAgICAgICAgaW1hZ2VCYXNlNjQ6IF90aGlzMTAuaW1nQmFzZTY0CiAgICAgICAgfTsKICAgICAgICB1cGxvZEltYWdlc0Jhc2U2NChkYXRhcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczEwLmNyb3BzUGhvdG9VcmwgPSByZXMubXNnOwogICAgICAgICAgX3RoaXMxMC5tc2dTdWNjZXNzKCflm77niYfkuIrkvKDmiJDlip8nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczEwLm1zZ0Vycm9yKCflm77niYfkuIrkvKDlpLHotKUnKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QmFzZTY0OiBmdW5jdGlvbiBnZXRCYXNlNjQoZmlsZSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHZhciBpbWdSZXN1bHQgPSAnJzsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaW1nUmVzdWx0ID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9OwogICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUoaW1nUmVzdWx0KTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZWNvcmQ6IGZ1bmN0aW9uIGhhbmRsZVJlY29yZChyb3cpIHsKICAgICAgdGhpcy5jcm9wc05hbWUgPSByb3cuY3JvcHNOYW1lOwogICAgICB0aGlzLmNyb3BzSW5mbyA9IHJvdzsKICAgICAgdGhpcy5ncm93RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICAvKiog5p+l6K+i5L2c54mp5YiX6KGoICovZ2V0Q3JvcHNMaXN0OiBmdW5jdGlvbiBnZXRDcm9wc0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9wcm9kdWN0LnF1ZXJ5Q3JvcHNMaXN0KSh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczExLmNyb3BzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMxMS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIF90aGlzMTEubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvKioNCiAgICAgKiDkvZznianor6bmg4UNCiAgICAgKi8KICAgIGNyb3BzRGV0YWlsOiBmdW5jdGlvbiBjcm9wc0RldGFpbChyb3cpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwogICAgICB0aGlzLiRodHRwQmxvY2suZ2V0KHRoaXMuJGh0dHBVcmwgKyAnL2Zhcm1lcmFwaS9xdWVyeUNyb3BzQnlJZD9pZD0nICsgcm93LmNyb3BzSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMTIuY3JvcHNEZXRhaWxzID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMxMi5jcm9wc0RldGFpRGlhbG9nID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgfSwKICAgIC8qKiDmn6Xor6Loj5zljZXmoJHnu5PmnoQgKi9nZXRNZW51VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0TWVudVRyZWVzZWxlY3QoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKICAgICAgKDAsIF9tZW51LnRyZWVzZWxlY3QpKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczEzLm1lbnVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivoumDqOmXqOagkee7k+aehCAqL2dldERlcHRUcmVlc2VsZWN0OiBmdW5jdGlvbiBnZXREZXB0VHJlZXNlbGVjdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwogICAgICAoMCwgX2RlcHQudHJlZXNlbGVjdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTQuZGVwdE9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmiYDmnInoj5zljZXoioLngrnmlbDmja4KICAgIGdldE1lbnVBbGxDaGVja2VkS2V5czogZnVuY3Rpb24gZ2V0TWVudUFsbENoZWNrZWRLZXlzKCkgewogICAgICAvLyDnm67liY3ooqvpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgdmFyIGNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy5tZW51LmdldEhhbGZDaGVja2VkS2V5cygpOwogICAgICAvLyDljYrpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgdmFyIGhhbGZDaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMubWVudS5nZXRDaGVja2VkS2V5cygpOwogICAgICBjaGVja2VkS2V5cy51bnNoaWZ0LmFwcGx5KGNoZWNrZWRLZXlzLCBoYWxmQ2hlY2tlZEtleXMpOwogICAgICByZXR1cm4gY2hlY2tlZEtleXM7CiAgICB9LAogICAgLy8g5omA5pyJ6YOo6Zeo6IqC54K55pWw5o2uCiAgICBnZXREZXB0QWxsQ2hlY2tlZEtleXM6IGZ1bmN0aW9uIGdldERlcHRBbGxDaGVja2VkS2V5cygpIHsKICAgICAgLy8g55uu5YmN6KKr6YCJ5Lit55qE6YOo6Zeo6IqC54K5CiAgICAgIHZhciBjaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMuZGVwdC5nZXRIYWxmQ2hlY2tlZEtleXMoKTsKICAgICAgLy8g5Y2K6YCJ5Lit55qE6YOo6Zeo6IqC54K5CiAgICAgIHZhciBoYWxmQ2hlY2tlZEtleXMgPSB0aGlzLiRyZWZzLmRlcHQuZ2V0Q2hlY2tlZEtleXMoKTsKICAgICAgY2hlY2tlZEtleXMudW5zaGlmdC5hcHBseShjaGVja2VkS2V5cywgaGFsZkNoZWNrZWRLZXlzKTsKICAgICAgcmV0dXJuIGNoZWNrZWRLZXlzOwogICAgfSwKICAgIC8qKiDmoLnmja7op5LoibJJROafpeivouiPnOWNleagkee7k+aehCAqL2dldFJvbGVNZW51VHJlZXNlbGVjdDogZnVuY3Rpb24gZ2V0Um9sZU1lbnVUcmVlc2VsZWN0KHJvbGVJZCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CiAgICAgIHJldHVybiAoMCwgX21lbnUucm9sZU1lbnVUcmVlc2VsZWN0KShyb2xlSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxNS5tZW51T3B0aW9ucyA9IHJlc3BvbnNlLm1lbnVzOwogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOagueaNruinkuiJsklE5p+l6K+i6YOo6Zeo5qCR57uT5p6EICovZ2V0Um9sZURlcHRUcmVlc2VsZWN0OiBmdW5jdGlvbiBnZXRSb2xlRGVwdFRyZWVzZWxlY3Qocm9sZUlkKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKICAgICAgcmV0dXJuICgwLCBfZGVwdC5yb2xlRGVwdFRyZWVzZWxlY3QpKHJvbGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczE2LmRlcHRPcHRpb25zID0gcmVzcG9uc2UuZGVwdHM7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSru+8iOaVsOaNruadg+mZkO+8iQogICAgY2FuY2VsRGF0YVNjb3BlOiBmdW5jdGlvbiBjYW5jZWxEYXRhU2NvcGUoKSB7CiAgICAgIHRoaXMub3BlbkRhdGFTY29wZSA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLm1lbnUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51LnNldENoZWNrZWRLZXlzKFtdKTsKICAgICAgfQogICAgICB0aGlzLm1lbnVFeHBhbmQgPSBmYWxzZSwgdGhpcy5tZW51Tm9kZUFsbCA9IGZhbHNlLCB0aGlzLmRlcHRFeHBhbmQgPSB0cnVlLCB0aGlzLmRlcHROb2RlQWxsID0gZmFsc2UsIHRoaXMuZm9ybSA9IHsKICAgICAgICByb2xlSWQ6IHVuZGVmaW5lZCwKICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHJvbGVLZXk6IHVuZGVmaW5lZCwKICAgICAgICByb2xlU29ydDogMCwKICAgICAgICBzdGF0dXM6ICcwJywKICAgICAgICBtZW51SWRzOiBbXSwKICAgICAgICBkZXB0SWRzOiBbXSwKICAgICAgICBtZW51Q2hlY2tTdHJpY3RseTogdHJ1ZSwKICAgICAgICBkZXB0Q2hlY2tTdHJpY3RseTogdHJ1ZSwKICAgICAgICByZW1hcms6IHVuZGVmaW5lZAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOwogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5yb2xlSWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgfSwKICAgIC8vIOagkeadg+mZkO+8iOWxleW8gC/mipjlj6DvvIkKICAgIGhhbmRsZUNoZWNrZWRUcmVlRXhwYW5kOiBmdW5jdGlvbiBoYW5kbGVDaGVja2VkVHJlZUV4cGFuZCh2YWx1ZSwgdHlwZSkgewogICAgICBpZiAodHlwZSA9PSAnbWVudScpIHsKICAgICAgICB2YXIgdHJlZUxpc3QgPSB0aGlzLm1lbnVPcHRpb25zOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuJHJlZnMubWVudS5zdG9yZS5ub2Rlc01hcFt0cmVlTGlzdFtpXS5pZF0uZXhwYW5kZWQgPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZGVwdCcpIHsKICAgICAgICB2YXIgX3RyZWVMaXN0ID0gdGhpcy5kZXB0T3B0aW9uczsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RyZWVMaXN0Lmxlbmd0aDsgX2krKykgewogICAgICAgICAgdGhpcy4kcmVmcy5kZXB0LnN0b3JlLm5vZGVzTWFwW190cmVlTGlzdFtfaV0uaWRdLmV4cGFuZGVkID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5qCR5p2D6ZmQ77yI5YWo6YCJL+WFqOS4jemAie+8iQogICAgaGFuZGxlQ2hlY2tlZFRyZWVOb2RlQWxsOiBmdW5jdGlvbiBoYW5kbGVDaGVja2VkVHJlZU5vZGVBbGwodmFsdWUsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gJ21lbnUnKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51LnNldENoZWNrZWROb2Rlcyh2YWx1ZSA/IHRoaXMubWVudU9wdGlvbnMgOiBbXSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZGVwdCcpIHsKICAgICAgICB0aGlzLiRyZWZzLmRlcHQuc2V0Q2hlY2tlZE5vZGVzKHZhbHVlID8gdGhpcy5kZXB0T3B0aW9ucyA6IFtdKTsKICAgICAgfQogICAgfSwKICAgIC8vIOagkeadg+mZkO+8iOeItuWtkOiBlOWKqO+8iQogICAgaGFuZGxlQ2hlY2tlZFRyZWVDb25uZWN0OiBmdW5jdGlvbiBoYW5kbGVDaGVja2VkVHJlZUNvbm5lY3QodmFsdWUsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gJ21lbnUnKSB7CiAgICAgICAgdGhpcy5mb3JtLm1lbnVDaGVja1N0cmljdGx5ID0gdmFsdWUgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZGVwdCcpIHsKICAgICAgICB0aGlzLmZvcm0uZGVwdENoZWNrU3RyaWN0bHkgPSB2YWx1ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi9oYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldE1lbnVUcmVlc2VsZWN0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAn6K6w5b2V5L2c54mpJzsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB2YXIgcm9sZUlkID0gcm93LnJvbGVJZCB8fCB0aGlzLmlkczsKICAgICAgdmFyIHJvbGVNZW51ID0gdGhpcy5nZXRSb2xlTWVudVRyZWVzZWxlY3Qocm9sZUlkKTsKICAgICAgKDAsIF9yb2xlLmdldFJvbGUpKHJvbGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczE3LmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMTcub3BlbiA9IHRydWU7CiAgICAgICAgX3RoaXMxNy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgcm9sZU1lbnUudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMTcuJHJlZnMubWVudS5zZXRDaGVja2VkS2V5cyhyZXMuY2hlY2tlZEtleXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMxNy50aXRsZSA9ICfkv67mlLnkvZzniaknOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5YiG6YWN5pWw5o2u5p2D6ZmQ5pON5L2cICovaGFuZGxlRGF0YVNjb3BlOiBmdW5jdGlvbiBoYW5kbGVEYXRhU2NvcGUocm93KSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB2YXIgcm9sZURlcHRUcmVlc2VsZWN0ID0gdGhpcy5nZXRSb2xlRGVwdFRyZWVzZWxlY3Qocm93LnJvbGVJZCk7CiAgICAgICgwLCBfcm9sZS5nZXRSb2xlKShyb3cucm9sZUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTguZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMxOC5vcGVuRGF0YVNjb3BlID0gdHJ1ZTsKICAgICAgICBfdGhpczE4LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByb2xlRGVwdFRyZWVzZWxlY3QudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMTguJHJlZnMuZGVwdC5zZXRDaGVja2VkS2V5cyhyZXMuY2hlY2tlZEtleXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMxOC50aXRsZSA9ICfliIbphY3mlbDmja7mnYPpmZAnOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CiAgICAgIC8vIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgIC8vICAgICBpZiAodmFsaWQpIHsKICAgICAgc2F2ZUNyb3BzKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMTkubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICBfdGhpczE5Lm9wZW4gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyBpZiAodGhpcy5mb3JtLnJvbGVJZCAhPSB1bmRlZmluZWQpIHsKICAgICAgLy8gICAgIHRoaXMuZm9ybS5tZW51SWRzID0gdGhpcy5nZXRNZW51QWxsQ2hlY2tlZEtleXMoKTsKICAgICAgLy8gICAgIHVwZGF0ZVJvbGUodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICAgIHRoaXMuZm9ybS5tZW51SWRzID0gdGhpcy5nZXRNZW51QWxsQ2hlY2tlZEtleXMoKTsKICAgICAgLy8gICAgIGFkZFJvbGUodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfQogICAgICAvLyAgICAgfQogICAgICAvLyB9KTsKICAgIH0sCgogICAgLyoqIOaPkOS6pOaMiemSru+8iOaVsOaNruadg+mZkO+8iSAqLwogICAgc3VibWl0RGF0YVNjb3BlOiBmdW5jdGlvbiBzdWJtaXREYXRhU2NvcGUoKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKICAgICAgaWYgKHRoaXMuZm9ybS5yb2xlSWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5mb3JtLmRlcHRJZHMgPSB0aGlzLmdldERlcHRBbGxDaGVja2VkS2V5cygpOwogICAgICAgICgwLCBfcm9sZS5kYXRhU2NvcGUpKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMyMC5tc2dTdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgX3RoaXMyMC5vcGVuRGF0YVNjb3BlID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMjAuZ2V0TGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqL2hhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CiAgICAgIHZhciByb2xlSWRzID0gcm93LnJvbGVJZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6KeS6Imy57yW5Y+35Li6IicgKyByb2xlSWRzICsgJyLnmoTmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX3JvbGUuZGVsUm9sZSkocm9sZUlkcyk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMjEuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzMjEubXNnU3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovaGFuZGxlRXhwb3J0OiBmdW5jdGlvbiBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5a+85Ye65omA5pyJ6KeS6Imy5pWw5o2u6aG5PycsICforablkYonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKDAsIF9yb2xlLmV4cG9ydFJvbGUpKHF1ZXJ5UGFyYW1zKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIyLmRvd25sb2FkKHJlc3BvbnNlLm1zZyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;AAuNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EAEAC;IAAA;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MAEAC;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MACAC;MAEAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;IAAA,qDACA,wEACA,oEACA,iEACA,0DACA,yDACA;MACAC;MACAC;MACAC;MACAC;IACA,wDACA,0DACA,8DACA,wDACA,2DACA,0DACA,8DACA,4DACA,4DACA,6DACA,uDACA,wDACA;EAEA;EACAC;IAAA;IACA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA;QACA;UACA;UACA;YACAA;YACAC;UACA;QACA;MAEA;QACA;UACAD;UACAC;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,6CACAC;QACA;QACA;MACA,GACAC;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACA,8DACAF;QACA;MACA,GACAC;MACA,qCACAD;QACA;MACA,GACAC;IACA;IAEAE;MAAA;MACA;MACA,gBACAC,6EACAJ;QACA;QACA;UACAK;QACA;QACA;MACA,GACAJ;QACA;MACA;IACA;IAEAK;MAAA;MACA;MACA,gBACAF,+EACAJ;QACA;MACA,GACAC;QACA;MACA;IACA;IAEAM;MAAA;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA,gBACAC;QAAAD;MAAA,GACAR;QACA;UACA;YACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA,GACAC;QACA;MACA;IACA;IAEA;AACA;AACA;IACAS;MAAA;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACAxB;UACAyB;QACA;QACA;UACA;UACA;QACA,yBAEA;QACA;QACA;MACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;MACA;IACA;IAGAC;MAAA;MACA;MACA;QACA;QACA;UACAC;QACA;QACAC,yBACAjB;UACA;UACA;QACA,GACAC;UACA;QACA;MACA;IACA;IAEAiB;MACA;QACA;QACA;QACAC;QACAA;UACAC;QACA;QACAD;UACAE;QACA;QACAF;UACAG;QACA;MACA;IACA;IAGAC;MACA;MACA;MACA;IACA;IAEA,aACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MACA,gBACArB,mEACAJ;QACA;QACA;MACA,GACAC;IACA;IAEA,cACAyB;MAAA;MACA;QACA;MACA;IACA;IACA,cACAC;MAAA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACAD;MACA;IACA;IACA,oBACAE;MAAA;MACA;QACA;QACA;MACA;IACA;IACA,oBACAC;MAAA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA,yBACA,0BACA,wBACA,0BACA;QACAC;QACA5D;QACAC;QACA4D;QACA3D;QACA4D;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;UACA;QACA;MACA;QACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACA,aACAC;MACA;MACA;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;UACAC;YACA;UACA;QACA;QACA;MACA;IACA;IACA,eACAC;MAAA;MACA;MACA;MACA;QACA;QACA;QACA;UACAC;YACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;QACA;UACA;UACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACA;IACAC;MAAA;MACA;QACA;QACA;UACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;QACA9D;QACAC;QACAC;MACA,GACAG;QACA;MACA,GACAA;QACA;QACA;MACA,GACAC;IACA;IACA,aACAyD;MAAA;MACA;MACA;QACA/D;QACAC;QACAC;MACA,GACAG;QACA;MACA,GACAA;QACA;MACA,GACAC;IACA;EACA;AACA;AAAA","names":["name","data","loading","ids","single","multiple","showSearch","total","cropsList","title","open","openDataScope","menuExpand","menuNodeAll","deptExpand","deptNodeAll","dateRange","statusOptions","beggingOptions","plantModeOptions","cropsTypeOptions","growDialog","cropsName","cropsDetaiDialog","cropsDetails","menuOptions","deptOptions","queryParams","pageNum","pageSize","roleName","roleKey","status","form","defaultProps","children","label","recordForm","imageUrl","imgBase64","cropsPhotoUrl","cropsInfo","cropsId","farmerUserName","farmerNickName","time","created","methods","outFactory","confirmButtonText","cancelButtonText","type","message","addNoticeTrasport","then","catch","noticeTransport","staffWork","get","array","queryProductInfo","submitProductInfo","productInfoArray","post","queryTaskByCropsId","addThing","addTask","machingStatus","taskDistribution","getFile","imageBase64","uplodImagesBase64","getBase64","reader","imgResult","reject","resolve","handleRecord","getCropsList","cropsDetail","getMenuTreeselect","getDeptTreeselect","getMenuAllCheckedKeys","checkedKeys","getDeptAllCheckedKeys","getRoleMenuTreeselect","getRoleDeptTreeselect","cancel","cancelDataScope","reset","roleId","roleSort","menuIds","deptIds","menuCheckStrictly","deptCheckStrictly","remark","handleQuery","resetQuery","handleSelectionChange","handleCheckedTreeExpand","handleCheckedTreeNodeAll","handleCheckedTreeConnect","handleAdd","handleUpdate","roleMenu","handleDataScope","roleDeptTreeselect","submitForm","saveCrops","submitDataScope","handleDelete","handleExport"],"sourceRoot":"src/views/trace/product","sources":["index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n    <el-divider>待处理业务</el-divider>\r\n\r\n\t\t<el-table v-loading=\"loading\" :data=\"cropsList\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n\t\t\t<el-table-column label=\"id\" prop=\"id\" />\r\n\t\t\t<el-table-column label=\"作物编号\" prop=\"cropsId\" />\r\n\t\t\t<el-table-column label=\"原料厂商\" prop=\"farmerDept\" />\r\n\t\t\t<el-table-column label=\"作物名称\" prop=\"cropsName\" />\r\n\t\t\t<el-table-column label=\"原料厂商负责人\" prop=\"farmerNickName\" />\r\n\t\t\t<el-table-column label=\"加工状态\" prop=\"maching\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag v-show=\"scope.row.machingStatus === null\">未加工</el-tag>\r\n\t\t\t\t\t<el-tag type=\"danger\" v-show=\"scope.row.machingStatus === 1\">加工中(任务已经分发)</el-tag>\r\n\t\t\t\t\t<el-tag type=\"warning\" v-show=\"scope.row.machingStatus === 2\">加工完成</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"库状态\" prop=\"out_factory_status\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === null\">未出库</el-tag>\r\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === 1\">已出库</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button v-show=\"scope.row.machingStatus !== 1 && scope.row.machingStatus !== 2\" size=\"mini\" type=\"text\" @click=\"taskDistribution(scope.row)\">任务分发</el-button>\r\n\t\t\t\t\t<el-button v-show=\"scope.row.machingStatus !== null\" size=\"mini\" type=\"text\" @click=\"queryTaskByCropsId(scope.row)\">查看任务分发信息</el-button>\r\n\t\t\t\t\t<el-button v-show=\"scope.row.productWriteStatus !== 1\" size=\"mini\" type=\"text\" @click=\"addThing(scope.row)\">填写产品基本信息</el-button>\r\n\t\t\t\t\t<el-button v-show=\"scope.row.productWriteStatus !== null\" size=\"mini\" type=\"text\" @click=\"queryProductInfo(scope.row)\">查看产品基本信息</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"staffWork(scope.row)\">员工工作量</el-button>\r\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"noticeTransport(scope.row)\">通知运输</el-button>\r\n\t\t\t\t\t<el-button v-show=\"scope.row.outFactoryStatus === null\" size=\"mini\" type=\"text\" @click=\"outFactory(scope.row)\">产品出库</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\t\t<pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\" :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\" />\r\n\r\n\t\t<el-dialog center title=\"任务分发\" :visible.sync=\"open\" width=\"700px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"任务标题\"><el-input v-model=\"form.taskName\" placeholder=\"请输入任务标题\"></el-input></el-form-item>\r\n\t\t\t\t<el-form-item label=\"任务分工内容\"><el-input v-model=\"form.taskRemark\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addTask\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"生产基本信息添加\" :visible.sync=\"addThingDialog\" width=\"700px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\" :model=\"recordForm\">\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"品名\" prop=\"nickName\"><el-input v-model=\"recordForm.ProductName\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"配料\" prop=\"nickName\"><el-input v-model=\"recordForm.MixedIngredients\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"负责人\" prop=\"nickName\"><el-input v-model=\"recordForm.Leader\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"电话\" prop=\"nickName\"><el-input v-model=\"recordForm.LeaderTel\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"生产车间\" prop=\"nickName\"><el-input v-model=\"recordForm.Workshop\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"生产工时\" prop=\"nickName\"><el-input v-model=\"recordForm.WorkHours\" placeholder=\"请输入\" /></el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"储藏方法\" prop=\"nickName\">\r\n\t\t\t\t\t\t <el-input v-model=\"recordForm.KeepMethod\" placeholder=\"请输入\" />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t<el-form-item label=\"净含量\" prop=\"nickName\">\r\n\t\t\t\t\t\t <el-input v-model=\"recordForm.NetContent\" placeholder=\"请输入\" />\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-form-item label=\"食用推荐\"><el-input v-model=\"recordForm.CookingRecommend\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"recordForm.Remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitProductInfo\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"任务下发详情\" :visible.sync=\"taskInfoDialog\" width=\"700px\" append-to-body>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">任务ID：{{ taskInfo.taskId }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">任务名称：{{ taskInfo.taskName }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">作物ID：{{ taskInfo.cropsId }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">发布时间：{{ taskInfo.time }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">状态：{{ taskInfo.status }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"24\">详情内容：{{ taskInfo.taskRemark }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"产品基本信息\" :visible.sync=\"productInfoDialog\" width=\"700px\" append-to-body>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"24\">作物ID：{{ productInfos.crops_id }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">产品ID：{{ productInfos.product_id }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">产品名称：{{ productInfos.product_name }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">净含量：{{ productInfos.Net_Content }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">保存方式：{{ productInfos.keep_mathod }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">负责人：{{ productInfos.leader }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">负责人电话：{{ productInfos.leader }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">配料：{{ productInfos.mixed_ingredients }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">工时：{{ productInfos.work_hours }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">车间：{{ productInfos.workshop }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">数据上链时间：{{ productInfos.time }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-divider></el-divider>\r\n\t\t\t<el-row>\r\n\t\t\t\t<el-col :span=\"12\">食用推荐：{{ productInfos.cooking_recommend }}</el-col>\r\n\t\t\t\t<el-col :span=\"12\">备注：{{ productInfos.remarks }}</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"员工工作量证明\" :visible.sync=\"staffWorkDialog\" width=\"1200px\" append-to-body>\r\n\t\t\t<el-row :gutter=\"8\" >\r\n\t\t\t\t<el-col :span=\"6\" v-for=\"(info,index) in operationList\" :key=\"index\" style=\"padding-top: 10px;\">\r\n                <el-card style=\"border-color: #42b983;\">\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"24\">操作ID：{{ info.operation_id }}</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"24\">操作人：{{ info.operation_people_name }}</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"24\">操作人电话：{{ info.operation_people_tel }}</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"24\">操作时间：{{ info.time }}</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-col :span=\"24\">操作内容：{{ info.work_content }}</el-col>\r\n\t\t\t\t\t</el-row>\r\n                </el-card>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<br>\r\n\t\t\t</el-row>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"联系运输\" :visible.sync=\"noticeDetaiDialog\" width=\"500px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" :model=\"trasportForm\" label-width=\"80px\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<el-form-item label=\"选择司机\" prop=\"nickName\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.userName\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"user in driverList\" :key=\"user.userName\" :label=\"user.nickName\" :value=\"user.userName\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<el-form-item label=\"零售商\" prop=\"nickName\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.deptId\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"dept in factoryList\" :key=\"dept.deptId\" :label=\"dept.deptName\" :value=\"dept.deptId\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"trasportForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addNoticeTrasport\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { listRole, getRole, delRole, addRole, updateRole, exportRole, dataScope, changeRoleStatus } from '@/api/system/role';\r\nimport { treeselect as menuTreeselect, roleMenuTreeselect } from '@/api/system/menu';\r\nimport { treeselect as deptTreeselect, roleDeptTreeselect } from '@/api/system/dept';\r\nimport {productOutFactory,updateProductWriteStatus,queryTaskByCropsId, queryCropsList,addTask,updateMachingStatus } from '../../../api/trace/product';\r\nimport { formatDate } from '../../../utils/index.js';\r\nimport {getFactoryByDeptId,getAllDriverByDeptId,addTransport} from '../../../api/trace/farmer';\r\nexport default {\r\n\tname: 'Role',\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 遮罩层\r\n\t\t\tloading: true,\r\n\t\t\t// 选中数组\r\n\t\t\tids: [],\r\n\t\t\t// 非单个禁用\r\n\t\t\tsingle: true,\r\n\t\t\t// 非多个禁用\r\n\t\t\tmultiple: true,\r\n\t\t\t// 显示搜索条件\r\n\t\t\tshowSearch: true,\r\n\t\t\t// 总条数\r\n\t\t\ttotal: 0,\r\n\t\t\t// 角色表格数据\r\n\t\t\tcropsList: [],\r\n\t\t\t// 弹出层标题\r\n\t\t\ttitle: '',\r\n\t\t\t// 是否显示弹出层\r\n\t\t\topen: false,\r\n\t\t\t// 是否显示弹出层（数据权限）\r\n\t\t\topenDataScope: false,\r\n\t\t\tmenuExpand: false,\r\n\t\t\tmenuNodeAll: false,\r\n\t\t\tdeptExpand: true,\r\n\t\t\tdeptNodeAll: false,\r\n\t\t\t// 日期范围\r\n\t\t\tdateRange: [],\r\n\t\t\t// 状态数据字典\r\n\t\t\tstatusOptions: ['在种', '停种'],\r\n\r\n\t\t\tbeggingOptions: [],\r\n\t\t\tplantModeOptions: [], //种植方式\r\n\t\t\tcropsTypeOptions: [], //作物类型\r\n\r\n\t\t\tgrowDialog: false, //z作物生长记录弹出框\r\n\t\t\tcropsName: '',\r\n\t\t\tcropsDetaiDialog: false,\r\n\r\n\t\t\tcropsDetails: '',\r\n\t\t\t// 菜单列表\r\n\t\t\tmenuOptions: [],\r\n\t\t\t// 部门列表\r\n\t\t\tdeptOptions: [],\r\n\t\t\t// 查询参数\r\n\t\t\tqueryParams: {\r\n\t\t\t\tpageNum: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\troleName: undefined,\r\n\t\t\t\troleKey: undefined,\r\n\t\t\t\tstatus: undefined\r\n\t\t\t},\r\n\t\t\t// 表单参数\r\n\t\t\tform: {},\r\n\t\t\tdefaultProps: {\r\n\t\t\t\tchildren: 'children',\r\n\t\t\t\tlabel: 'label'\r\n\t\t\t},\r\n\t\t\trecordForm: {},\r\n\t\t\timageUrl: '',\r\n\t\t\timgBase64: [],\r\n\t\t\tcropsPhotoUrl: '',\r\n\t\t\tcropsInfo: '',\r\n\t\t\tgrowDialog: false,\r\n\t\t\tcropsProcessDetailsArray: [],\r\n\t\t\tcropsProcessDetaiDialog: false,\r\n\t\t\tnoticeDetaiDialog: false,\r\n\t\t\tdriverList: [],\r\n\t\t\ttrasportForm: {\r\n\t\t\t\tcropsId: '',\r\n\t\t\t\tfarmerUserName: '',\r\n\t\t\t\tfarmerNickName: '',\r\n\t\t\t\ttime: ''\r\n\t\t\t},\r\n\t\t\ttrasportInfo: '',\r\n\t\t\tplayTrackView: false,\r\n\t\t\taddThingDialog:false,\r\n\t\t\ttaskInfo:'',\r\n\t\t\ttaskInfoDialog:false,\r\n\t\t\tcropsInfos:'',\r\n\t\t\tproductInfoDialog:false,\r\n\t\t\tproductInfos:'',\r\n\t\t\tstaffWorkDialog:false,\r\n\t\t\toperationList:[],\r\n\t\t\tdriverList:[],\r\n\t\t\tfactoryList:[],\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getCropsList();\r\n\t\tthis.getDicts('crops_bagging').then(response => {\r\n\t\t\tthis.beggingOptions = response.data;\r\n\t\t});\r\n\t\tthis.getDicts('crops_plant_type').then(res => {\r\n\t\t\tthis.plantModeOptions = res.data;\r\n\t\t});\r\n\t\tthis.getDicts('crops_type').then(res => {\r\n\t\t\tthis.cropsTypeOptions = res.data;\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\toutFactory(row){\r\n\t\t\tthis.$confirm('确定将ID为【'+row.cropsId+'】的产品出库吗', '提示', {\r\n\t\t\t          confirmButtonText: '确定',\r\n\t\t\t          cancelButtonText: '取消',\r\n\t\t\t          type: 'warning'\r\n\t\t\t        }).then(() => {\r\n\t\t\t\t\t\tproductOutFactory(row.cropsId).then(() => {\r\n\t\t\t\t\t\t\tthis.getCropsList();\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t  type: 'success',\r\n\t\t\t\t\t\t\t  message: '已出库!'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t        }).catch(() => {\r\n\t\t\t          this.$message({\r\n\t\t\t            type: 'info',\r\n\t\t\t            message: '已取消出库'\r\n\t\t\t          });\r\n\t\t\t        });\r\n\t\t},\r\n\r\n\t\taddNoticeTrasport(){\r\n\t\t\tthis.trasportForm.cropsId = this.checkInfo.cropsId;\r\n\t\t\tthis.trasportForm.farmerUserName = this.$store.getters.name;\r\n\t\t\tthis.trasportForm.farmerNickName = this.$store.getters.nickName;\r\n\t\t\tthis.trasportForm.time = new Date();\r\n\t\t\tthis.trasportForm.driverId = this.trasportForm.userName;\r\n\t\t\tthis.trasportForm.status = 0;\r\n\t\t\tthis.trasportForm.farmerTel = this.$store.getters.phonenumber;\r\n\t\t\tthis.trasportForm.farmerDept = this.$store.getters.deptName;\r\n\t\t\tthis.trasportForm.factoryId = this.trasportForm.deptId\r\n\t\t\taddTransport(this.trasportForm)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.msgSuccess('联系运输成功');\r\n\t\t\t\t\tthis.noticeDetaiDialog = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.msgError('联系运输失败，发生异常');\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tnoticeTransport(row){\r\n\t\t\tthis.checkInfo = row;\r\n\t\t\tthis.noticeDetaiDialog = true\r\n\t\t\tgetAllDriverByDeptId(this.$store.getters.deptId)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.driverList = res.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {});\r\n\t\t\tgetFactoryByDeptId(125)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.factoryList = res.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {});\r\n\t\t},\r\n\r\n\t\tstaffWork(row){\r\n\t\t\tthis.staffWorkDialog = true;\r\n\t\t\tthis.$httpBlock\r\n\t\t\t    \t.get(this.$httpUrl + '/productapi/queryOperationByCropsId?id='+row.cropsId)\r\n\t\t\t    \t.then(res => {\r\n\t\t\t\t\t\tconst array = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\t\tarray.push(res.data[i].Record);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.operationList = array;\r\n\t\t\t    \t})\r\n\t\t\t    \t.catch(err => {\r\n\t\t\t    \t\tthis.msgError('查询异常 ' + err);\r\n\t\t\t    \t});\r\n\t\t},\r\n\r\n\t\tqueryProductInfo(row){\r\n\t\t\tthis.productInfoDialog = true\r\n\t\t\tthis.$httpBlock\r\n\t\t\t    \t.get(this.$httpUrl + '/productapi/queryProductInfoByCropsId?id='+row.cropsId)\r\n\t\t\t    \t.then(res => {\r\n\t\t\t\t\t\tthis.productInfos = res.data[0].Record;\r\n\t\t\t    \t})\r\n\t\t\t    \t.catch(err => {\r\n\t\t\t    \t\tthis.msgError('查询异常 ' + err);\r\n\t\t\t    \t});\r\n\t\t},\r\n\r\n\t\tsubmitProductInfo(){\r\n\t\t\tconst productInfoArray = [];\r\n\t\t\tconst id = new this.$snowFlakeId().generate();\r\n\t\t\tproductInfoArray.push(id)\r\n\t\t\tproductInfoArray.push(id)\r\n\t\t\tproductInfoArray.push(this.cropsInfos.cropsId)\r\n\t\t\tproductInfoArray.push(this.recordForm.ProductName)\r\n\t\t\tproductInfoArray.push(this.recordForm.MixedIngredients)\r\n\t\t\tproductInfoArray.push(this.recordForm.Leader)\r\n\t\t\tproductInfoArray.push(this.recordForm.LeaderTel)\r\n\t\t\tproductInfoArray.push(this.recordForm.Workshop)\r\n\t\t\tproductInfoArray.push(this.$store.getters.deptName)\r\n\t\t\tproductInfoArray.push(this.recordForm.WorkHours)\r\n\t\t\tproductInfoArray.push(formatDate(new Date()))\r\n\t\t\tproductInfoArray.push(this.recordForm.KeepMethod)\r\n\t\t\tproductInfoArray.push(this.recordForm.NetContent)\r\n\t\t\tproductInfoArray.push(this.recordForm.CookingRecommend)\r\n\t\t\tproductInfoArray.push(this.recordForm.Remarks)\r\n\t        this.$httpBlock\r\n\t        \t.post(this.$httpUrl + '/productapi/createProductInfo', { productInfoArray: productInfoArray })\r\n\t        \t.then(res => {\r\n\t        \t\tif (res.status === 200) {\r\n\t\t\t\t\t\tupdateProductWriteStatus(this.cropsInfos.cropsId).then(res => {\r\n\t\t\t\t\t\t\tthis.addThingDialog = false;\r\n\t\t\t\t\t\t\tthis.msgSuccess(\"数据上链成功\");\r\n\t\t\t\t\t\t\tthis.getCropsList();\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\tthis.msgError(\"出现异常\");\r\n\t\t\t\t\t\t})\r\n\t        \t\t}\r\n\t        \t})\r\n\t        \t.catch(err => {\r\n\t        \t\tthis.msgError('存储异常 ' + err);\r\n\t        \t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 根据cropsId查询任务详情\r\n\t\t */\r\n\t\tqueryTaskByCropsId(row){\r\n\t\t\tqueryTaskByCropsId(row.cropsId).then(res => {\r\n\t\t\t\tthis.taskInfo = res.data\r\n\t\t\t\tthis.taskInfoDialog = true\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tthis.msgError(\"查询异常\")\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\taddThing(row){\r\n\t\t\tthis.cropsInfos = row\r\n\t\t\tthis.addThingDialog = true\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 确定发布\r\n\t\t */\r\n\t\taddTask(){\r\n\t\t\tthis.form.taskId = new this.$snowFlakeId().generate();\r\n\t\t\tthis.form.cropsId = this.productInfo.cropsId;\r\n\t\t\tthis.form.leaderId = this.$store.getters.name;\r\n\t\t\tthis.form.time = formatDate(new Date());\r\n\t\t\tthis.form.leaderName = this.$store.getters.nickName;\r\n\t\t\tthis.form.status = 0;\r\n\t\t\taddTask(this.form).then(res => {\r\n\t\t\t\tconst info = {\r\n\t\t\t\t\tcropsId:this.productInfo.cropsId,\r\n\t\t\t\t\tmachingStatus:1\r\n\t\t\t\t}\r\n\t\t\t\tupdateMachingStatus(info).then(res => {\r\n\t\t\t\t\tthis.msgSuccess(\"产品进入加工状态\")\r\n\t\t\t\t\tthis.getCropsList();\r\n\t\t\t\t}).catch(err => {\r\n\r\n\t\t\t\t})\r\n\t\t\t\tthis.msgSuccess(\"发布任务成功\");\r\n\t\t\t\tthis.open = false;\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tthis.msgError(\"添加任务出错\")\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 任务分发\r\n\t\t */\r\n\t\ttaskDistribution(row){\r\n\t\t\tthis.productInfo = row\r\n\t\t\tthis.open = true\r\n\t\t},\r\n\r\n\r\n\t\tgetFile(file) {\r\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\tthis.getBase64(file.raw).then(res => {\r\n\t\t\t\tthis.imgBase64 = res;\r\n\t\t\t\tconst datas = {\r\n\t\t\t\t\timageBase64: this.imgBase64\r\n\t\t\t\t};\r\n\t\t\t\tuplodImagesBase64(datas)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.cropsPhotoUrl = res.msg;\r\n\t\t\t\t\t\tthis.msgSuccess('图片上传成功');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.msgError('图片上传失败');\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetBase64(file) {\r\n\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\tlet imgResult = '';\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\treader.onload = function() {\r\n\t\t\t\t\timgResult = reader.result;\r\n\t\t\t\t};\r\n\t\t\t\treader.onerror = function(error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t};\r\n\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\tresolve(imgResult);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\thandleRecord(row) {\r\n\t\t\tthis.cropsName = row.cropsName;\r\n\t\t\tthis.cropsInfo = row;\r\n\t\t\tthis.growDialog = true;\r\n\t\t},\r\n\r\n\t\t/** 查询作物列表 */\r\n\t\tgetCropsList() {\r\n\t\t\tthis.loading = true;\r\n\t\t\tqueryCropsList(this.$store.getters.deptId).then(response => {\r\n\t\t\t\tthis.cropsList = response.data;\r\n\t\t\t\tthis.total = response.total;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 作物详情\r\n\t\t */\r\n\t\tcropsDetail(row) {\r\n\t\t\tthis.$httpBlock\r\n\t\t\t\t.get(this.$httpUrl + '/farmerapi/queryCropsById?id=' + row.cropsId)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.cropsDetails = res.data;\r\n\t\t\t\t\tthis.cropsDetaiDialog = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {});\r\n\t\t},\r\n\r\n\t\t/** 查询菜单树结构 */\r\n\t\tgetMenuTreeselect() {\r\n\t\t\tmenuTreeselect().then(response => {\r\n\t\t\t\tthis.menuOptions = response.data;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 查询部门树结构 */\r\n\t\tgetDeptTreeselect() {\r\n\t\t\tdeptTreeselect().then(response => {\r\n\t\t\t\tthis.deptOptions = response.data;\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 所有菜单节点数据\r\n\t\tgetMenuAllCheckedKeys() {\r\n\t\t\t// 目前被选中的菜单节点\r\n\t\t\tlet checkedKeys = this.$refs.menu.getHalfCheckedKeys();\r\n\t\t\t// 半选中的菜单节点\r\n\t\t\tlet halfCheckedKeys = this.$refs.menu.getCheckedKeys();\r\n\t\t\tcheckedKeys.unshift.apply(checkedKeys, halfCheckedKeys);\r\n\t\t\treturn checkedKeys;\r\n\t\t},\r\n\t\t// 所有部门节点数据\r\n\t\tgetDeptAllCheckedKeys() {\r\n\t\t\t// 目前被选中的部门节点\r\n\t\t\tlet checkedKeys = this.$refs.dept.getHalfCheckedKeys();\r\n\t\t\t// 半选中的部门节点\r\n\t\t\tlet halfCheckedKeys = this.$refs.dept.getCheckedKeys();\r\n\t\t\tcheckedKeys.unshift.apply(checkedKeys, halfCheckedKeys);\r\n\t\t\treturn checkedKeys;\r\n\t\t},\r\n\t\t/** 根据角色ID查询菜单树结构 */\r\n\t\tgetRoleMenuTreeselect(roleId) {\r\n\t\t\treturn roleMenuTreeselect(roleId).then(response => {\r\n\t\t\t\tthis.menuOptions = response.menus;\r\n\t\t\t\treturn response;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 根据角色ID查询部门树结构 */\r\n\t\tgetRoleDeptTreeselect(roleId) {\r\n\t\t\treturn roleDeptTreeselect(roleId).then(response => {\r\n\t\t\t\tthis.deptOptions = response.depts;\r\n\t\t\t\treturn response;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 取消按钮\r\n\t\tcancel() {\r\n\t\t\tthis.open = false;\r\n\t\t\tthis.reset();\r\n\t\t},\r\n\t\t// 取消按钮（数据权限）\r\n\t\tcancelDataScope() {\r\n\t\t\tthis.openDataScope = false;\r\n\t\t\tthis.reset();\r\n\t\t},\r\n\t\t// 表单重置\r\n\t\treset() {\r\n\t\t\tif (this.$refs.menu != undefined) {\r\n\t\t\t\tthis.$refs.menu.setCheckedKeys([]);\r\n\t\t\t}\r\n\t\t\t(this.menuExpand = false),\r\n\t\t\t\t(this.menuNodeAll = false),\r\n\t\t\t\t(this.deptExpand = true),\r\n\t\t\t\t(this.deptNodeAll = false),\r\n\t\t\t\t(this.form = {\r\n\t\t\t\t\troleId: undefined,\r\n\t\t\t\t\troleName: undefined,\r\n\t\t\t\t\troleKey: undefined,\r\n\t\t\t\t\troleSort: 0,\r\n\t\t\t\t\tstatus: '0',\r\n\t\t\t\t\tmenuIds: [],\r\n\t\t\t\t\tdeptIds: [],\r\n\t\t\t\t\tmenuCheckStrictly: true,\r\n\t\t\t\t\tdeptCheckStrictly: true,\r\n\t\t\t\t\tremark: undefined\r\n\t\t\t\t});\r\n\t\t\tthis.resetForm('form');\r\n\t\t},\r\n\t\t/** 搜索按钮操作 */\r\n\t\thandleQuery() {\r\n\t\t\tthis.queryParams.pageNum = 1;\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\t/** 重置按钮操作 */\r\n\t\tresetQuery() {\r\n\t\t\tthis.dateRange = [];\r\n\t\t\tthis.resetForm('queryForm');\r\n\t\t\tthis.handleQuery();\r\n\t\t},\r\n\t\t// 多选框选中数据\r\n\t\thandleSelectionChange(selection) {\r\n\t\t\tthis.ids = selection.map(item => item.roleId);\r\n\t\t\tthis.single = selection.length != 1;\r\n\t\t\tthis.multiple = !selection.length;\r\n\t\t},\r\n\t\t// 树权限（展开/折叠）\r\n\t\thandleCheckedTreeExpand(value, type) {\r\n\t\t\tif (type == 'menu') {\r\n\t\t\t\tlet treeList = this.menuOptions;\r\n\t\t\t\tfor (let i = 0; i < treeList.length; i++) {\r\n\t\t\t\t\tthis.$refs.menu.store.nodesMap[treeList[i].id].expanded = value;\r\n\t\t\t\t}\r\n\t\t\t} else if (type == 'dept') {\r\n\t\t\t\tlet treeList = this.deptOptions;\r\n\t\t\t\tfor (let i = 0; i < treeList.length; i++) {\r\n\t\t\t\t\tthis.$refs.dept.store.nodesMap[treeList[i].id].expanded = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 树权限（全选/全不选）\r\n\t\thandleCheckedTreeNodeAll(value, type) {\r\n\t\t\tif (type == 'menu') {\r\n\t\t\t\tthis.$refs.menu.setCheckedNodes(value ? this.menuOptions : []);\r\n\t\t\t} else if (type == 'dept') {\r\n\t\t\t\tthis.$refs.dept.setCheckedNodes(value ? this.deptOptions : []);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 树权限（父子联动）\r\n\t\thandleCheckedTreeConnect(value, type) {\r\n\t\t\tif (type == 'menu') {\r\n\t\t\t\tthis.form.menuCheckStrictly = value ? true : false;\r\n\t\t\t} else if (type == 'dept') {\r\n\t\t\t\tthis.form.deptCheckStrictly = value ? true : false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t/** 新增按钮操作 */\r\n\t\thandleAdd() {\r\n\t\t\tthis.reset();\r\n\t\t\tthis.getMenuTreeselect();\r\n\t\t\tthis.open = true;\r\n\t\t\tthis.title = '记录作物';\r\n\t\t},\r\n\t\t/** 修改按钮操作 */\r\n\t\thandleUpdate(row) {\r\n\t\t\tthis.reset();\r\n\t\t\tconst roleId = row.roleId || this.ids;\r\n\t\t\tconst roleMenu = this.getRoleMenuTreeselect(roleId);\r\n\t\t\tgetRole(roleId).then(response => {\r\n\t\t\t\tthis.form = response.data;\r\n\t\t\t\tthis.open = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\troleMenu.then(res => {\r\n\t\t\t\t\t\tthis.$refs.menu.setCheckedKeys(res.checkedKeys);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.title = '修改作物';\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 分配数据权限操作 */\r\n\t\thandleDataScope(row) {\r\n\t\t\tthis.reset();\r\n\t\t\tconst roleDeptTreeselect = this.getRoleDeptTreeselect(row.roleId);\r\n\t\t\tgetRole(row.roleId).then(response => {\r\n\t\t\t\tthis.form = response.data;\r\n\t\t\t\tthis.openDataScope = true;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\troleDeptTreeselect.then(res => {\r\n\t\t\t\t\t\tthis.$refs.dept.setCheckedKeys(res.checkedKeys);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.title = '分配数据权限';\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 提交按钮 */\r\n\t\tsubmitForm: function() {\r\n\t\t\t// this.$refs[\"form\"].validate(valid => {\r\n\t\t\t//     if (valid) {\r\n\t\t\tsaveCrops(this.form).then(res => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tthis.msgSuccess('修改成功');\r\n\t\t\t\t\tthis.open = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// if (this.form.roleId != undefined) {\r\n\t\t\t//     this.form.menuIds = this.getMenuAllCheckedKeys();\r\n\t\t\t//     updateRole(this.form).then(response => {\r\n\t\t\t//         if (response.code === 200) {\r\n\t\t\t//             this.msgSuccess(\"修改成功\");\r\n\t\t\t//             this.open = false;\r\n\t\t\t//             this.getList();\r\n\t\t\t//         }\r\n\t\t\t//     });\r\n\t\t\t// } else {\r\n\t\t\t//     this.form.menuIds = this.getMenuAllCheckedKeys();\r\n\t\t\t//     addRole(this.form).then(response => {\r\n\t\t\t//         if (response.code === 200) {\r\n\t\t\t//             this.msgSuccess(\"新增成功\");\r\n\t\t\t//             this.open = false;\r\n\t\t\t//             this.getList();\r\n\t\t\t//         }\r\n\t\t\t//     });\r\n\t\t\t// }\r\n\t\t\t//     }\r\n\t\t\t// });\r\n\t\t},\r\n\t\t/** 提交按钮（数据权限） */\r\n\t\tsubmitDataScope: function() {\r\n\t\t\tif (this.form.roleId != undefined) {\r\n\t\t\t\tthis.form.deptIds = this.getDeptAllCheckedKeys();\r\n\t\t\t\tdataScope(this.form).then(response => {\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\tthis.msgSuccess('修改成功');\r\n\t\t\t\t\t\tthis.openDataScope = false;\r\n\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/** 删除按钮操作 */\r\n\t\thandleDelete(row) {\r\n\t\t\tconst roleIds = row.roleId || this.ids;\r\n\t\t\tthis.$confirm('是否确认删除角色编号为\"' + roleIds + '\"的数据项?', '警告', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(function() {\r\n\t\t\t\t\treturn delRole(roleIds);\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.getList();\r\n\t\t\t\t\tthis.msgSuccess('删除成功');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function() {});\r\n\t\t},\r\n\t\t/** 导出按钮操作 */\r\n\t\thandleExport() {\r\n\t\t\tconst queryParams = this.queryParams;\r\n\t\t\tthis.$confirm('是否确认导出所有角色数据项?', '警告', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(function() {\r\n\t\t\t\t\treturn exportRole(queryParams);\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tthis.download(response.msg);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function() {});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style>\r\n.avatar-uploader .el-upload {\r\n\tborder: 1px dashed #d9d9d9;\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n\tborder-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n\tfont-size: 28px;\r\n\tcolor: #8c939d;\r\n\twidth: 178px;\r\n\theight: 178px;\r\n\tline-height: 178px;\r\n\ttext-align: center;\r\n}\r\n.avatar {\r\n\twidth: 178px;\r\n\theight: 178px;\r\n\tdisplay: block;\r\n}\r\n\r\n.image {\r\n\twidth: 80%;\r\n\tdisplay: block;\r\n}\r\n/**一定要给宽高，否则不显示*/\r\n#position {\r\n\theight: 100%;\r\n}\r\n/**修改点标记图片的css, 图片给宽高，否则不显示 */\r\n.map-page /deep/ {\r\n\t.amap-icon {\r\n\t\twidth: 20px;\r\n\t}\r\n\t.amap-marker-label {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tfont-size: 16px;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 5px;\r\n\t}\r\n}\r\n\r\n#panel {\r\n\tposition: fixed;\r\n\tbackground-color: white;\r\n\tmax-height: 90%;\r\n\toverflow-y: auto;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\twidth: 280px;\r\n}\r\n#panel .amap-call {\r\n\tbackground-color: #009cf9;\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n}\r\n#panel .amap-lib-driving {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\toverflow: hidden;\r\n}\r\nhtml,\r\nbody,\r\n#container {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.map {\r\n\twidth: 100%;\r\n\theight: 500px;\r\n}\r\n</style>\r\n"]}]}