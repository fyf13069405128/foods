{"remainingRequest":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\trace\\material\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\src\\views\\trace\\material\\index.vue","mtime":1673353165805},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\babel.config.js","mtime":1673353165524},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\food\\Blockchain-APTrace-Fabric\\blockchain-trace-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9mb29kL0Jsb2NrY2hhaW4tQVBUcmFjZS1GYWJyaWMvYmxvY2tjaGFpbi10cmFjZS1wYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiKTsKdmFyIF9kZXB0ID0gcmVxdWlyZSgiQC9hcGkvc3lzdGVtL2RlcHQiKTsKdmFyIF9tYXRlcmlhbCA9IHJlcXVpcmUoIi4uLy4uLy4uL2FwaS90cmFjZS9tYXRlcmlhbCIpOwp2YXIgX3Z1ZVRyZWVzZWxlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0IikpOwpyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdC9kaXN0L3Z1ZS10cmVlc2VsZWN0LmNzcyIpOwp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vdXRpbHMvaW5kZXguanMiKTsKdmFyIF9mYXJtZXIgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvdHJhY2UvZmFybWVyIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnRGVwdCcsCiAgY29tcG9uZW50czogewogICAgVHJlZXNlbGVjdDogX3Z1ZVRyZWVzZWxlY3QuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgbm90aWNlRGV0YWlEaWFsb2c6IGZhbHNlLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOihqOagvOagkeaVsOaNrgogICAgICBkZXB0TGlzdDogW10sCiAgICAgIC8vIOmDqOmXqOagkemAiemhuQogICAgICBkZXB0T3B0aW9uczogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g54q25oCB5pWw5o2u5a2X5YW4CiAgICAgIHN0YXR1c09wdGlvbnM6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBkZXB0TmFtZTogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgdHJhbnNwb3J0TGlzdDogW10sCiAgICAgIGNpdHlEZXRhaWw6ICcnLAogICAgICBsbmc6IE51bWJlciwKICAgICAgbGF0OiBOdW1iZXIsCiAgICAgIGltZ0Jhc2U2NDogJycsCiAgICAgIFRlc3RpbmdQaG90b1VybDogJycsCiAgICAgIGNoZWNrSW5mbzogJycsCiAgICAgIGRyaXZlckxpc3Q6IFtdLAogICAgICBub3RpY2VUcmFuc3BvcnREaWFsb2c6IGZhbHNlLAogICAgICB0cmFzcG9ydEZvcm06IHt9LAogICAgICBmYWN0b3J5TGlzdDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy90aGlzLnFyY29kZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkTm90aWNlVHJhc3BvcnQ6IGZ1bmN0aW9uIGFkZE5vdGljZVRyYXNwb3J0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5jcm9wc0lkID0gdGhpcy5jaGVja0luZm8uY3JvcHNJZDsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFybWVyVXNlck5hbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lck5pY2tOYW1lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0udGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmRyaXZlcklkID0gdGhpcy50cmFzcG9ydEZvcm0udXNlck5hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLnN0YXR1cyA9IDA7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lclRlbCA9IHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXI7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lckRlcHQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYWN0b3J5SWQgPSB0aGlzLnRyYXNwb3J0Rm9ybS5kZXB0SWQ7CiAgICAgICgwLCBfbWF0ZXJpYWwuYWRkVHJhbnNwb3J0KSh0aGlzLnRyYXNwb3J0Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMubXNnU3VjY2Vzcygn6IGU57O76L+Q6L6T5oiQ5YqfJyk7CiAgICAgICAgX3RoaXMubm90aWNlRGV0YWlEaWFsb2cgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLm1zZ0Vycm9yKCfogZTns7vov5DovpPlpLHotKXvvIzlj5HnlJ/lvILluLgnKTsKICAgICAgfSk7CiAgICB9LAogICAgbm90aWNlVHJhbnNwb3J0OiBmdW5jdGlvbiBub3RpY2VUcmFuc3BvcnQocm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmNoZWNrSW5mbyA9IHJvdzsKICAgICAgdGhpcy5ub3RpY2VEZXRhaURpYWxvZyA9IHRydWU7CiAgICAgICgwLCBfZmFybWVyLmdldEFsbERyaXZlckJ5RGVwdElkKSh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRyaXZlckxpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgICAoMCwgX2Zhcm1lci5nZXRGYWN0b3J5QnlEZXB0SWQpKDEyMykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmZhY3RvcnlMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKg0KICAgICAqIOWHuuW6kw0KICAgICAqLwogICAgb3V0RmFjdG9yeTogZnVuY3Rpb24gb3V0RmFjdG9yeShyb3cpIHsKICAgICAgdGhpcy5jaGVja0luZm8gPSByb3c7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICB9LAogICAgY3JlYXRlTWFjaGluZzogZnVuY3Rpb24gY3JlYXRlTWFjaGluZygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBjaGVja0luZm9BcnJheSA9IFtdOwogICAgICB2YXIgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKGlkKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaChpZCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5jaGVja0luZm8uY3JvcHNJZCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5mb3JtLnRlc3RpbmdSZXN1bHQpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKHRoaXMuY2hlY2tJbmZvLnRpbWUpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKCgwLCBfaW5kZXguZm9ybWF0RGF0ZSkobmV3IERhdGUoKSkpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKHRoaXMuVGVzdGluZ1Bob3RvVXJsKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLmZvcm0ucmVtYXJrcyk7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL21hdGVyaWFsYXBpL2NyZWF0ZU1hY2hpbmcnLCB7CiAgICAgICAgY2hlY2tJbmZvQXJyYXk6IGNoZWNrSW5mb0FycmF5CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICgwLCBfbWF0ZXJpYWwuY2hhbmdlSW5Ub091dCkoX3RoaXMzLmNoZWNrSW5mby5jcm9wc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoIuWHuuW6k+aIkOWKnyIpOwogICAgICAgICAgICBfdGhpczMuZ2V0TGlzdCgpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBfdGhpczMubXNnRXJyb3IoIuWHuuW6k+Wksei0pSIpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczMub3BlbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRGaWxlOiBmdW5jdGlvbiBnZXRGaWxlKGZpbGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgICAgdGhpcy5nZXRCYXNlNjQoZmlsZS5yYXcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5pbWdCYXNlNjQgPSByZXM7CiAgICAgICAgdmFyIGRhdGFzID0gewogICAgICAgICAgaW1hZ2VCYXNlNjQ6IF90aGlzNC5pbWdCYXNlNjQKICAgICAgICB9OwogICAgICAgICgwLCBfZmFybWVyLnVwbG9kSW1hZ2VzQmFzZTY0KShkYXRhcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczQuVGVzdGluZ1Bob3RvVXJsID0gcmVzLm1zZzsKICAgICAgICAgIF90aGlzNC5tc2dTdWNjZXNzKCflm77niYfkuIrkvKDmiJDlip8nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczQubXNnRXJyb3IoJ+WbvueJh+S4iuS8oOWksei0pScpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRCYXNlNjQ6IGZ1bmN0aW9uIGdldEJhc2U2NChmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdmFyIGltZ1Jlc3VsdCA9ICcnOwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpbWdSZXN1bHQgPSByZWFkZXIucmVzdWx0OwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfTsKICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZShpbWdSZXN1bHQpOwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICAoMCwgX21hdGVyaWFsLmxpc3RDcm9wcykodGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNS50cmFuc3BvcnRMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDovazmjaLpg6jpl6jmlbDmja7nu5PmnoQgKi9ub3JtYWxpemVyOiBmdW5jdGlvbiBub3JtYWxpemVyKG5vZGUpIHsKICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgIW5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogbm9kZS5kZXB0SWQsCiAgICAgICAgbGFiZWw6IG5vZGUuZGVwdE5hbWUsCiAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4KICAgICAgfTsKICAgIH0sCiAgICAvLyDlrZflhbjnirbmgIHlrZflhbjnv7vor5EKICAgIHN0YXR1c0Zvcm1hdDogZnVuY3Rpb24gc3RhdHVzRm9ybWF0KHJvdywgY29sdW1uKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RMYWJlbCh0aGlzLnN0YXR1c09wdGlvbnMsIHJvdy5zdGF0dXMpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBkZXB0SWQ6IHVuZGVmaW5lZCwKICAgICAgICBwYXJlbnRJZDogdW5kZWZpbmVkLAogICAgICAgIGRlcHROYW1lOiB1bmRlZmluZWQsCiAgICAgICAgb3JkZXJOdW06IHVuZGVmaW5lZCwKICAgICAgICBsZWFkZXI6IHVuZGVmaW5lZCwKICAgICAgICBwaG9uZTogdW5kZWZpbmVkLAogICAgICAgIGVtYWlsOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiAnMCcKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqL2hhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKHJvdykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICBpZiAocm93ICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZm9ybS5wYXJlbnRJZCA9IHJvdy5kZXB0SWQ7CiAgICAgIH0KICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy50aXRsZSA9ICfmt7vliqDpg6jpl6gnOwogICAgICAoMCwgX2RlcHQubGlzdERlcHQpKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYuZGVwdE9wdGlvbnMgPSBfdGhpczYuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAnZGVwdElkJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi9oYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgKDAsIF9kZXB0LmdldERlcHQpKHJvdy5kZXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM3LmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzNy5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczcudGl0bGUgPSAn5L+u5pS56YOo6ZeoJzsKICAgICAgfSk7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdEV4Y2x1ZGVDaGlsZCkocm93LmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczcuZGVwdE9wdGlvbnMgPSBfdGhpczcuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAnZGVwdElkJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXM4LmZvcm0uZGVwdElkICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAoMCwgX2RlcHQudXBkYXRlRGVwdCkoX3RoaXM4LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM4Lm1zZ1N1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgICAgICAgICAgX3RoaXM4Lm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzOC5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICgwLCBfZGVwdC5hZGREZXB0KShfdGhpczguZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczgubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBfdGhpczgub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXM4LmdldExpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqL2hhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5ZCN56ew5Li6IicgKyByb3cuZGVwdE5hbWUgKyAnIueahOaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfZGVwdC5kZWxEZXB0KShyb3cuZGVwdElkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM5LmdldExpc3QoKTsKICAgICAgICBfdGhpczkubXNnU3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;MACA;MACA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EAEAC;IACA;EAAA,CACA;EAEAC;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,+CACAC;QACA;QACA;MACA,GACAC;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACA,8DACAF;QACA;MACA,GACAC;MACA,qCACAD;QACA;MACA;IACA;IAEA;AACA;AACA;IACAG;MACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA,gBACAC;QAAAD;MAAA,GACAL;QACA;UACA;YACA;YACA;UACA;YACA;UACA;UACA;QACA;MACA,GACAC;QACA;MACA;IACA;IAEAM;MAAA;MACA;MACA;QACA;QACA;UACAC;QACA;QACA,sCACAR;UACA;UACA;QACA,GACAC;UACA;QACA;MACA;IACA;IAEAQ;MACA;QACA;QACA;QACAC;QACAA;UACAC;QACA;QACAD;UACAE;QACA;QACAF;UACAG;QACA;MACA;IACA;IAGAC;MAAA;MACA;QACA;MACA;IACA;IACA,eACAC;MACA;QACA;MACA;MACA;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACAC;QACAC;QACAzC;QACA0C;QACAC;QACAC;QACAC;QACA5C;MACA;MACA;IACA;IACA,aACA6C;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACA;cACA;gBACA;gBACA;gBACA;cACA;YACA;UACA;YACA;cACA;gBACA;gBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA,aACAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA,GACApC;QACA;MACA,GACAA;QACA;QACA;MACA,GACAC;IACA;EACA;AACA;AAAA","names":["name","components","Treeselect","data","imageUrl","noticeDetaiDialog","loading","showSearch","deptList","deptOptions","title","open","statusOptions","queryParams","deptName","status","form","transportList","cityDetail","lng","lat","imgBase64","TestingPhotoUrl","checkInfo","driverList","noticeTransportDialog","trasportForm","factoryList","created","mounted","methods","addNoticeTrasport","then","catch","noticeTransport","outFactory","createMaching","checkInfoArray","post","getFile","imageBase64","getBase64","reader","imgResult","reject","resolve","getList","normalizer","id","label","children","statusFormat","cancel","reset","deptId","parentId","orderNum","leader","phone","email","handleQuery","resetQuery","handleAdd","handleUpdate","submitForm","handleDelete","confirmButtonText","cancelButtonText","type"],"sourceRoot":"src/views/trace/material","sources":["index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\t\t<el-divider>待处理业务</el-divider>\r\n\r\n\t\t<br />\r\n\t\t<el-table :data=\"transportList\">\r\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n\t\t\t<el-table-column label=\"货物编号\" prop=\"cropsId\" />\r\n\t\t\t<el-table-column label=\"农户\" prop=\"farmerNickName\" />\r\n\t\t\t<el-table-column label=\"原料来源\" prop=\"farmerDept\" />\r\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\r\n\t\t\t<el-table-column label=\"状态\" prop=\"outFactoryStatus\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === 0\">已入库</el-tag>\r\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === 1\">已出库</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button v-show=\"scope.row.outFactoryStatus === 0\" size=\"mini\" type=\"text\" @click=\"noticeTransport(scope.row)\">通知运输(1)</el-button>\r\n          <el-button v-show=\"scope.row.outFactoryStatus === 0\" size=\"mini\" type=\"text\" @click=\"outFactory(scope.row)\">出库(2)</el-button>\r\n        </template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\r\n\r\n\t\t<el-dialog :title=\"title\" :visible.sync=\"open\" width=\"700px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"检测结果\" prop=\"nickName\"><el-input v-model=\"form.testingResult\" placeholder=\"请输入检测结果\" /></el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"form.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t<el-form-item label=\"检测图片:\">\r\n\t\t\t\t\t\t\t<el-upload class=\"avatar-uploader\" :on-change=\"getFile\" :show-file-list=\"false\" :auto-upload=\"false\">\r\n\t\t\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"createMaching\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t\t<el-dialog center title=\"联系运输\" :visible.sync=\"noticeDetaiDialog\" width=\"500px\" append-to-body>\r\n\t\t\t<el-form ref=\"form\" :model=\"trasportForm\" label-width=\"80px\">\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<el-form-item label=\"选择司机\" prop=\"nickName\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.userName\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"user in driverList\" :key=\"user.userName\" :label=\"user.nickName\" :value=\"user.userName\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-row>\r\n\t\t\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t\t\t<el-form-item label=\"生产厂商\" prop=\"nickName\">\r\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.deptId\" placeholder=\"请选择\">\r\n\t\t\t\t\t\t\t\t<el-option v-for=\"dept in factoryList\" :key=\"dept.deptId\" :label=\"dept.deptName\" :value=\"dept.deptId\"></el-option>\r\n\t\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"trasportForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addNoticeTrasport\">确 定</el-button>\r\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from '@/api/system/dept';\r\nimport {addTransport, listCrops,changeInToOut} from '../../../api/trace/material';\r\nimport Treeselect from '@riophae/vue-treeselect';\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\r\nimport { formatDate } from '../../../utils/index.js';\r\nimport {uplodImagesBase64,getAllDriverByDeptId,getFactoryByDeptId} from '../../../api/trace/farmer';\r\nexport default {\r\n\tname: 'Dept',\r\n\tcomponents: { Treeselect },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\timageUrl:'',\r\n\t\t\tnoticeDetaiDialog: false,\r\n\t\t\t// 遮罩层\r\n\t\t\tloading: true,\r\n\t\t\t// 显示搜索条件\r\n\t\t\tshowSearch: true,\r\n\t\t\t// 表格树数据\r\n\t\t\tdeptList: [],\r\n\t\t\t// 部门树选项\r\n\t\t\tdeptOptions: [],\r\n\t\t\t// 弹出层标题\r\n\t\t\ttitle: '',\r\n\t\t\t// 是否显示弹出层\r\n\t\t\topen: false,\r\n\t\t\t// 状态数据字典\r\n\t\t\tstatusOptions: [],\r\n\t\t\t// 查询参数\r\n\t\t\tqueryParams: {\r\n\t\t\t\tdeptName: undefined,\r\n\t\t\t\tstatus: undefined\r\n\t\t\t},\r\n\t\t\t// 表单参数\r\n\t\t\tform: {},\r\n\r\n\t\t\ttransportList: [],\r\n\t\t\tcityDetail: '',\r\n\t\t\tlng: Number,\r\n\t\t\tlat: Number,\r\n\t\t\timgBase64:'',\r\n\t\t\tTestingPhotoUrl:'',\r\n\t\t\tcheckInfo:'',\r\n\t\t\tdriverList:[],\r\n\t\t\tnoticeTransportDialog:false,\r\n\t\t\ttrasportForm:{},\r\n\t\t\tfactoryList:[],\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getList();\r\n\t},\r\n\r\n\tmounted() {\r\n\t\t//this.qrcode();\r\n\t},\r\n\r\n\tmethods: {\r\n\t\taddNoticeTrasport(){\r\n\t\t\tthis.trasportForm.cropsId = this.checkInfo.cropsId;\r\n\t\t\tthis.trasportForm.farmerUserName = this.$store.getters.name;\r\n\t\t\tthis.trasportForm.farmerNickName = this.$store.getters.nickName;\r\n\t\t\tthis.trasportForm.time = new Date();\r\n\t\t\tthis.trasportForm.driverId = this.trasportForm.userName;\r\n\t\t\tthis.trasportForm.status = 0;\r\n\t\t\tthis.trasportForm.farmerTel = this.$store.getters.phonenumber;\r\n\t\t\tthis.trasportForm.farmerDept = this.$store.getters.deptName;\r\n\t\t\tthis.trasportForm.factoryId = this.trasportForm.deptId\r\n\t\t\taddTransport(this.trasportForm)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.msgSuccess('联系运输成功');\r\n\t\t\t\t\tthis.noticeDetaiDialog = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.msgError('联系运输失败，发生异常');\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tnoticeTransport(row){\r\n\t\t\tthis.checkInfo = row;\r\n\t\t\tthis.noticeDetaiDialog = true\r\n\t\t\tgetAllDriverByDeptId(this.$store.getters.deptId)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.driverList = res.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {});\r\n\t\t\tgetFactoryByDeptId(123)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.factoryList = res.data;\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 出库\r\n\t\t */\r\n\t\toutFactory(row){\r\n\t\t\tthis.checkInfo = row;\r\n\t\t\tthis.open = true\r\n\t\t},\r\n\r\n\t\tcreateMaching(){\r\n\t\t    const checkInfoArray = []\r\n\t\t\tconst id = new this.$snowFlakeId().generate();\r\n\t\t\tcheckInfoArray.push(id)\r\n\t\t\tcheckInfoArray.push(id)\r\n\t\t\tcheckInfoArray.push(this.$store.getters.nickName)\r\n\t\t\tcheckInfoArray.push(this.$store.getters.phonenumber);\r\n\t\t\tcheckInfoArray.push(this.$store.getters.deptName);\r\n\t\t\tcheckInfoArray.push(this.checkInfo.cropsId);\r\n\t\t\tcheckInfoArray.push(this.form.testingResult);\r\n\t\t\tcheckInfoArray.push(this.checkInfo.time);\r\n\t\t\tcheckInfoArray.push(formatDate(new Date()));\r\n\t\t\tcheckInfoArray.push(this.TestingPhotoUrl);\r\n\t\t\tcheckInfoArray.push(this.form.remarks);\r\n\t\t\tthis.$httpBlock\r\n\t\t\t\t.post(this.$httpUrl + '/materialapi/createMaching', { checkInfoArray: checkInfoArray })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\tchangeInToOut(this.checkInfo.cropsId).then(res => {\r\n\t\t\t\t\t\t\tthis.msgSuccess(\"出库成功\")\r\n\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\tthis.msgError(\"出库失败\")\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.open = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetFile(file) {\r\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\tthis.getBase64(file.raw).then(res => {\r\n\t\t\t\tthis.imgBase64 = res;\r\n\t\t\t\tconst datas = {\r\n\t\t\t\t\timageBase64: this.imgBase64\r\n\t\t\t\t};\r\n\t\t\t\tuplodImagesBase64(datas)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.TestingPhotoUrl = res.msg;\r\n\t\t\t\t\t\tthis.msgSuccess('图片上传成功');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.msgError('图片上传失败');\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetBase64(file) {\r\n\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\tlet imgResult = '';\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\treader.onload = function() {\r\n\t\t\t\t\timgResult = reader.result;\r\n\t\t\t\t};\r\n\t\t\t\treader.onerror = function(error) {\r\n\t\t\t\t\treject(error);\r\n\t\t\t\t};\r\n\t\t\t\treader.onloadend = function() {\r\n\t\t\t\t\tresolve(imgResult);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\tgetList() {\r\n\t\t\tlistCrops(this.$store.getters.deptId).then(res => {\r\n\t\t\t\tthis.transportList = res.data;\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 转换部门数据结构 */\r\n\t\tnormalizer(node) {\r\n\t\t\tif (node.children && !node.children.length) {\r\n\t\t\t\tdelete node.children;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tid: node.deptId,\r\n\t\t\t\tlabel: node.deptName,\r\n\t\t\t\tchildren: node.children\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 字典状态字典翻译\r\n\t\tstatusFormat(row, column) {\r\n\t\t\treturn this.selectDictLabel(this.statusOptions, row.status);\r\n\t\t},\r\n\t\t// 取消按钮\r\n\t\tcancel() {\r\n\t\t\tthis.open = false;\r\n\t\t\tthis.reset();\r\n\t\t},\r\n\t\t// 表单重置\r\n\t\treset() {\r\n\t\t\tthis.form = {\r\n\t\t\t\tdeptId: undefined,\r\n\t\t\t\tparentId: undefined,\r\n\t\t\t\tdeptName: undefined,\r\n\t\t\t\torderNum: undefined,\r\n\t\t\t\tleader: undefined,\r\n\t\t\t\tphone: undefined,\r\n\t\t\t\temail: undefined,\r\n\t\t\t\tstatus: '0'\r\n\t\t\t};\r\n\t\t\tthis.resetForm('form');\r\n\t\t},\r\n\t\t/** 搜索按钮操作 */\r\n\t\thandleQuery() {\r\n\t\t\tthis.getList();\r\n\t\t},\r\n\t\t/** 重置按钮操作 */\r\n\t\tresetQuery() {\r\n\t\t\tthis.resetForm('queryForm');\r\n\t\t\tthis.handleQuery();\r\n\t\t},\r\n\t\t/** 新增按钮操作 */\r\n\t\thandleAdd(row) {\r\n\t\t\tthis.reset();\r\n\t\t\tif (row != undefined) {\r\n\t\t\t\tthis.form.parentId = row.deptId;\r\n\t\t\t}\r\n\t\t\tthis.open = true;\r\n\t\t\tthis.title = '添加部门';\r\n\t\t\tlistDept().then(response => {\r\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 修改按钮操作 */\r\n\t\thandleUpdate(row) {\r\n\t\t\tthis.reset();\r\n\t\t\tgetDept(row.deptId).then(response => {\r\n\t\t\t\tthis.form = response.data;\r\n\t\t\t\tthis.open = true;\r\n\t\t\t\tthis.title = '修改部门';\r\n\t\t\t});\r\n\t\t\tlistDeptExcludeChild(row.deptId).then(response => {\r\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 提交按钮 */\r\n\t\tsubmitForm: function() {\r\n\t\t\tthis.$refs['form'].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tif (this.form.deptId != undefined) {\r\n\t\t\t\t\t\tupdateDept(this.form).then(response => {\r\n\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\tthis.msgSuccess('修改成功');\r\n\t\t\t\t\t\t\t\tthis.open = false;\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taddDept(this.form).then(response => {\r\n\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\tthis.msgSuccess('新增成功');\r\n\t\t\t\t\t\t\t\tthis.open = false;\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t/** 删除按钮操作 */\r\n\t\thandleDelete(row) {\r\n\t\t\tthis.$confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项?', '警告', {\r\n\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\ttype: 'warning'\r\n\t\t\t})\r\n\t\t\t\t.then(function() {\r\n\t\t\t\t\treturn delDept(row.deptId);\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.getList();\r\n\t\t\t\t\tthis.msgSuccess('删除成功');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function() {});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style>\r\n.avatar-uploader .el-upload {\r\n\tborder: 1px dashed #d9d9d9;\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n\tborder-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n\tfont-size: 28px;\r\n\tcolor: #8c939d;\r\n\twidth: 178px;\r\n\theight: 178px;\r\n\tline-height: 178px;\r\n\ttext-align: center;\r\n}\r\n.avatar {\r\n\twidth: 300px;\r\n\theight: 270px;\r\n\tdisplay: block;\r\n}\r\n\r\n.image {\r\n\twidth: 80%;\r\n\tdisplay: block;\r\n}\r\n</style>\r\n"]}]}